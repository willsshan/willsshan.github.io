(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{363:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"hashmapè¯¦è§£-æºç åˆ†æä¸å®é™…åº”ç”¨æŒ‡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hashmapè¯¦è§£-æºç åˆ†æä¸å®é™…åº”ç”¨æŒ‡å—"}},[t._v("#")]),t._v(" HashMapè¯¦è§£ï¼šæºç åˆ†æä¸å®é™…åº”ç”¨æŒ‡å—")]),t._v(" "),a("p",[t._v("è½¬è½½ï¼š"),a("a",{attrs:{href:"https://tobebetterjavaer.com/about-the-author/",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ²‰é»˜ç‹äºŒ"),a("OutboundLink")],1)]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("è¿™ç¯‡æ–‡ç« å°†é€šè¿‡æºç çš„æ–¹å¼ï¼Œè¯¦ç»†é€å½»åœ°è®²æ¸…æ¥š Java çš„ HashMapï¼ŒåŒ…æ‹¬ hash æ–¹æ³•çš„åŸç†ã€HashMap çš„æ‰©å®¹æœºåˆ¶ã€HashMapçš„åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯ 0.75 è€Œä¸æ˜¯ 0.6ã€0.8ï¼Œä»¥åŠ HashMap ä¸ºä»€ä¹ˆæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼ŒåŸºæœ¬ä¸Š HashMap çš„"),a("a",{attrs:{href:"https://tobebetterjavaer.com/interview/java-hashmap-13.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("å¸¸è§é¢è¯•é¢˜open in new window"),a("OutboundLink")],1),t._v("ï¼Œéƒ½ä¼šåœ¨è¿™ä¸€ç¯‡æ–‡ç« é‡Œè®²æ˜ç™½ã€‚")]),t._v(" "),a("p",[t._v("HashMap æ˜¯ Java ä¸­å¸¸ç”¨çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œç”¨äºå­˜å‚¨é”®å€¼å¯¹ã€‚åœ¨ HashMap ä¸­ï¼Œæ¯ä¸ªé”®éƒ½æ˜ å°„åˆ°ä¸€ä¸ªå”¯ä¸€çš„å€¼ï¼Œå¯ä»¥é€šè¿‡é”®æ¥å¿«é€Ÿè®¿é—®å¯¹åº”çš„å€¼ã€‚")]),t._v(" "),a("p",[t._v("HashMap ä¸ä»…åœ¨æ—¥å¸¸å¼€å‘ä¸­ç»å¸¸ç”¨åˆ°ï¼Œåœ¨é¢è¯•ä¸­ä¹Ÿæ˜¯é‡ç‚¹è€ƒå¯Ÿçš„å¯¹è±¡ã€‚")]),t._v(" "),a("p",[t._v("ä»¥ä¸‹æ˜¯ HashMap å¢åˆ æ”¹æŸ¥çš„ç®€å•ä¾‹å­ï¼š")]),t._v(" "),a("p",[a("strong",[t._v("1ï¼‰å¢åŠ å…ƒç´ ")]),t._v("ï¼š")]),t._v(" "),a("p",[t._v("å°†ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆå…ƒç´ ï¼‰æ·»åŠ åˆ° HashMap ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ put() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå°†åå­—å’Œå¹´é¾„ä½œä¸ºé”®å€¼å¯¹æ·»åŠ åˆ° HashMap ä¸­ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ²‰é»˜"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç‹äºŒ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("2ï¼‰åˆ é™¤å…ƒç´ ")]),t._v("ï¼š")]),t._v(" "),a("p",[t._v('ä» HashMap ä¸­åˆ é™¤ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå¯ä»¥ä½¿ç”¨ remove() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œåˆ é™¤åå­—ä¸º "æ²‰é»˜" çš„é”®å€¼å¯¹ï¼š')]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ²‰é»˜"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("3ï¼‰ä¿®æ”¹å…ƒç´ ")]),t._v("ï¼š")]),t._v(" "),a("p",[t._v('ä¿®æ”¹ HashMap ä¸­çš„ä¸€ä¸ªé”®å€¼å¯¹ï¼Œå¯ä»¥ä½¿ç”¨ put() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå°†åå­—ä¸º "æ²‰é»˜" çš„å¹´é¾„ä¿®æ”¹ä¸º 30ï¼š')]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ²‰é»˜"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä¸ºä»€ä¹ˆå’Œæ·»åŠ å…ƒç´ çš„æ–¹æ³•ä¸€æ ·å‘¢ï¼Ÿè¿™ä¸ªæˆ‘ä»¬åé¢ä¼šè®²ï¼Œå…ˆç®€å•è¯´ä¸€ä¸‹ï¼Œæ˜¯å› ä¸º HashMap çš„é”®æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥å†æ¬¡ put çš„æ—¶å€™ä¼šè¦†ç›–æ‰ä¹‹å‰çš„é”®å€¼å¯¹ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("4ï¼‰æŸ¥æ‰¾å…ƒç´ ")]),t._v("ï¼š")]),t._v(" "),a("p",[t._v('ä» HashMap ä¸­æŸ¥æ‰¾ä¸€ä¸ªé”®å¯¹åº”çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨ get() æ–¹æ³•ã€‚ä¾‹å¦‚ï¼ŒæŸ¥æ‰¾åå­—ä¸º "æ²‰é»˜" çš„å¹´é¾„ï¼š')]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ²‰é»˜"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒHashMap å¯ä»¥ç”¨äºç¼“å­˜ã€ç´¢å¼•ç­‰åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥å°†ç”¨æˆ· ID ä½œä¸ºé”®ï¼Œç”¨æˆ·ä¿¡æ¯ä½œä¸ºå€¼ï¼Œå°†ç”¨æˆ·ä¿¡æ¯ç¼“å­˜åˆ° HashMap ä¸­ï¼Œä»¥ä¾¿å¿«é€ŸæŸ¥æ‰¾ã€‚åˆå¦‚ï¼Œå¯ä»¥å°†å…³é”®å­—ä½œä¸ºé”®ï¼Œæ–‡æ¡£ ID åˆ—è¡¨ä½œä¸ºå€¼ï¼Œå°†æ–‡æ¡£ç´¢å¼•ç¼“å­˜åˆ° HashMap ä¸­ï¼Œä»¥ä¾¿å¿«é€Ÿæœç´¢æ–‡æ¡£ã€‚")]),t._v(" "),a("p",[t._v("HashMap çš„å®ç°åŸç†æ˜¯åŸºäºå“ˆå¸Œè¡¨çš„ï¼Œå®ƒçš„åº•å±‚æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªä½ç½®å¯èƒ½æ˜¯ä¸€ä¸ªé“¾è¡¨æˆ–çº¢é»‘æ ‘ï¼Œä¹Ÿå¯èƒ½åªæ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼ˆåé¢ä¼šè®²ï¼‰ã€‚å½“æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹æ—¶ï¼ŒHashMap ä¼šæ ¹æ®é”®çš„å“ˆå¸Œå€¼è®¡ç®—å‡ºè¯¥é”®å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ï¼ˆç´¢å¼•ï¼‰ï¼Œç„¶åå°†é”®å€¼å¯¹æ’å…¥åˆ°å¯¹åº”çš„ä½ç½®ã€‚")]),t._v(" "),a("p",[t._v("å½“é€šè¿‡é”®æŸ¥æ‰¾å€¼æ—¶ï¼ŒHashMap ä¹Ÿä¼šæ ¹æ®é”®çš„å“ˆå¸Œå€¼è®¡ç®—å‡ºæ•°ç»„ä¸‹æ ‡ï¼Œå¹¶æŸ¥æ‰¾å¯¹åº”çš„å€¼ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_01ã€hashæ–¹æ³•çš„åŸç†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_01ã€hashæ–¹æ³•çš„åŸç†"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_01%E3%80%81hash%E6%96%B9%E6%B3%95%E7%9A%84%E5%8E%9F%E7%90%86",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("01ã€hashæ–¹æ³•çš„åŸç†")]),t._v(" "),a("p",[t._v("ç®€å•äº†è§£ HashMap åï¼Œæˆ‘ä»¬æ¥è®¨è®ºç¬¬ä¸€ä¸ªé—®é¢˜ï¼šhash æ–¹æ³•çš„åŸç†ï¼Œå¯¹åƒé€ HashMap ä¼šå¤§æœ‰å¸®åŠ©ã€‚")]),t._v(" "),a("p",[t._v("æ¥çœ‹ä¸€ä¸‹ hash æ–¹æ³•çš„æºç ï¼ˆJDK 8 ä¸­çš„ HashMapï¼‰ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¿™æ®µä»£ç ç©¶ç«Ÿæ˜¯ç”¨æ¥å¹²å˜›çš„å‘¢ï¼Ÿ")]),t._v(" "),a("p",[a("strong",[t._v("å°† key çš„ hashCode å€¼è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆçš„å“ˆå¸Œå€¼")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æ€ä¹ˆç†è§£è¿™å¥è¯å‘¢ï¼Ÿä¸è¦ç€æ€¥ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬æ¥ new ä¸€ä¸ª HashMapï¼Œå¹¶é€šè¿‡ put æ–¹æ³•æ·»åŠ ä¸€ä¸ªå…ƒç´ ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chenmo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ²‰é»˜"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("æ¥çœ‹ä¸€ä¸‹ put æ–¹æ³•çš„æºç ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("putVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("çœ‹åˆ° hash æ–¹æ³•çš„èº«å½±äº†å§ï¼Ÿ")]),t._v(" "),a("h4",{attrs:{id:"hash-æ–¹æ³•çš„ä½œç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hash-æ–¹æ³•çš„ä½œç”¨"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#hash-%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%9C%E7%94%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("hash æ–¹æ³•çš„ä½œç”¨")]),t._v(" "),a("p",[t._v("å‰é¢ä¹Ÿè¯´äº†ï¼ŒHashMap çš„åº•å±‚æ˜¯é€šè¿‡æ•°ç»„çš„å½¢å¼å®ç°çš„ï¼Œåˆå§‹å¤§å°æ˜¯ 16ï¼ˆè¿™ä¸ªåé¢ä¼šè®²ï¼‰ï¼Œå…ˆè®°ä½ã€‚")]),t._v(" "),a("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ï¼ŒHashMap åœ¨æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œéœ€è¦é€šè¿‡é”®çš„å“ˆå¸Œç åœ¨å¤§å°ä¸º 16 çš„æ•°ç»„ä¸­ç¡®å®šä¸€ä¸ªä½ç½®ï¼ˆç´¢å¼•ï¼‰ï¼Œæ€ä¹ˆç¡®å®šå‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("ä¸ºäº†æ–¹ä¾¿å¤§å®¶ç›´è§‚çš„æ„Ÿå—ï¼Œæˆ‘è¿™é‡Œç”»äº†ä¸€å‰¯å›¾ï¼Œ16 ä¸ªæ–¹æ ¼å­ï¼ˆå¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸ªä¸€ä¸ªæ¡¶ï¼‰ï¼Œæ¯ä¸ªæ ¼å­éƒ½æœ‰ä¸€ä¸ªç¼–å·ï¼Œå¯¹åº”å¤§å°ä¸º 16 çš„æ•°ç»„ä¸‹æ ‡ï¼ˆç´¢å¼•ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("ç°åœ¨ï¼Œæˆ‘ä»¬è¦æŠŠ key ä¸º â€œchenmoâ€ï¼Œvalue ä¸ºâ€œæ²‰é»˜â€çš„é”®å€¼å¯¹æ”¾åˆ°è¿™ 16 ä¸ªæ ¼å­ä¸­çš„ä¸€ä¸ªã€‚")]),t._v(" "),a("p",[t._v("æ€ä¹ˆç¡®å®šä½ç½®ï¼ˆç´¢å¼•ï¼‰å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("æˆ‘å…ˆå‘Šè¯‰å¤§å®¶ç»“è®ºï¼Œé€šè¿‡è¿™ä¸ªä¸è¿ç®— "),a("code",[t._v("(n - 1) & hash")]),t._v("ï¼Œå…¶ä¸­å˜é‡ n ä¸ºæ•°ç»„çš„é•¿åº¦ï¼Œå˜é‡ hash å°±æ˜¯é€šè¿‡ "),a("code",[t._v("hash()")]),t._v(" æ–¹æ³•è®¡ç®—åçš„ç»“æœã€‚")]),t._v(" "),a("p",[t._v("é‚£â€œchenmoâ€è¿™ä¸ª key è®¡ç®—åçš„ä½ç½®ï¼ˆç´¢å¼•ï¼‰æ˜¯å¤šå°‘å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("ç­”æ¡ˆæ˜¯ 8ï¼Œä¹Ÿå°±æ˜¯è¯´ "),a("code",[t._v('map.put("chenmo", "æ²‰é»˜")')]),t._v(" ä¼šæŠŠkey ä¸º â€œchenmoâ€ï¼Œvalue ä¸ºâ€œæ²‰é»˜â€çš„é”®å€¼å¯¹æ”¾åˆ°ä¸‹æ ‡ä¸º 8 çš„ä½ç½®ä¸Šï¼ˆä¹Ÿå°±æ˜¯ç´¢å¼•ä¸º 8 çš„æ¡¶ä¸Šï¼‰ã€‚")]),t._v(" "),a("p",[t._v("è¿™æ ·å¤§å®¶å°±ä¼šå¯¹ HashMap å­˜æ”¾é”®å€¼å¯¹ï¼ˆå…ƒç´ ï¼‰çš„æ—¶å€™æœ‰ä¸€ä¸ªå¤§è‡´çš„å°è±¡ã€‚å…¶ä¸­çš„ä¸€ç‚¹æ˜¯ï¼Œhash æ–¹æ³•å¯¹è®¡ç®—é”®å€¼å¯¹çš„ä½ç½®èµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚")]),t._v(" "),a("p",[t._v("å›åˆ° hash æ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ä¸‹é¢æ˜¯å¯¹è¯¥æ–¹æ³•çš„ä¸€äº›è§£é‡Šï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å‚æ•° keyï¼šéœ€è¦è®¡ç®—å“ˆå¸Œç çš„é”®å€¼ã€‚")]),t._v(" "),a("li",[a("code",[t._v("key == null ? 0 : (h = key.hashCode()) ^ (h >>> 16)")]),t._v("ï¼šè¿™æ˜¯ä¸€ä¸ªä¸‰ç›®è¿ç®—ç¬¦ï¼Œå¦‚æœé”®å€¼ä¸ºnullï¼Œåˆ™å“ˆå¸Œç ä¸º0ï¼ˆä¾æ—§æ˜¯è¯´å¦‚æœé”®ä¸º nullï¼Œåˆ™å­˜æ”¾åœ¨ç¬¬ä¸€ä¸ªä½ç½®ï¼‰ï¼›å¦åˆ™ï¼Œé€šè¿‡è°ƒç”¨"),a("code",[t._v("hashCode()")]),t._v("æ–¹æ³•è·å–é”®çš„å“ˆå¸Œç ï¼Œå¹¶å°†å…¶ä¸å³ç§»16ä½çš„å“ˆå¸Œç è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚")]),t._v(" "),a("li",[a("code",[t._v("^")]),t._v(" è¿ç®—ç¬¦ï¼šå¼‚æˆ–è¿ç®—ç¬¦æ˜¯Javaä¸­çš„ä¸€ç§ä½è¿ç®—ç¬¦ï¼Œå®ƒç”¨äºå°†ä¸¤ä¸ªæ•°çš„äºŒè¿›åˆ¶ä½è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒåˆ™ä¸º0ï¼Œä¸åŒåˆ™ä¸º1ã€‚")]),t._v(" "),a("li",[a("code",[t._v("h >>> 16")]),t._v("ï¼šå°†å“ˆå¸Œç å‘å³ç§»åŠ¨16ä½ï¼Œç›¸å½“äºå°†åŸæ¥çš„å“ˆå¸Œç åˆ†æˆäº†ä¸¤ä¸ª16ä½çš„éƒ¨åˆ†ã€‚")]),t._v(" "),a("li",[t._v("æœ€ç»ˆè¿”å›çš„æ˜¯ç»è¿‡å¼‚æˆ–è¿ç®—åå¾—åˆ°çš„å“ˆå¸Œç å€¼ã€‚")])]),t._v(" "),a("p",[t._v("è¿™çŸ­çŸ­çš„ä¸€è¡Œä»£ç ï¼Œæ±‡èšä¸å°‘è®¡ç®—æœºå·¨ä½¬ä»¬çš„èªæ˜æ‰æ™ºã€‚")]),t._v(" "),a("p",[t._v("ç†è®ºä¸Šï¼Œå“ˆå¸Œå€¼ï¼ˆå“ˆå¸Œç ï¼‰æ˜¯ä¸€ä¸ª int ç±»å‹ï¼ŒèŒƒå›´ä»-2147483648 åˆ° 2147483648ã€‚å‰ååŠ èµ·æ¥å¤§æ¦‚ 40 äº¿çš„æ˜ å°„ç©ºé—´ï¼Œåªè¦å“ˆå¸Œå€¼æ˜ å°„å¾—æ¯”è¾ƒå‡åŒ€æ¾æ•£ï¼Œä¸€èˆ¬æ˜¯ä¸ä¼šå‡ºç°å“ˆå¸Œç¢°æ’ï¼ˆå“ˆå¸Œå†²çªä¼šé™ä½ HashMap çš„æ•ˆç‡ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("ä½†é—®é¢˜æ˜¯ä¸€ä¸ª 40 äº¿é•¿åº¦çš„æ•°ç»„ï¼Œå†…å­˜æ˜¯æ”¾ä¸ä¸‹çš„ã€‚HashMap æ‰©å®¹ä¹‹å‰çš„æ•°ç»„åˆå§‹å¤§å°åªæœ‰ 16ï¼Œæ‰€ä»¥è¿™ä¸ªå“ˆå¸Œå€¼æ˜¯ä¸èƒ½ç›´æ¥æ‹¿æ¥ç”¨çš„ï¼Œç”¨ä¹‹å‰è¦å’Œæ•°ç»„çš„é•¿åº¦åšå–æ¨¡è¿ç®—ï¼ˆå‰æ–‡æåˆ°çš„ "),a("code",[t._v("(n - 1) & hash")]),t._v("ï¼‰ï¼Œç”¨å¾—åˆ°çš„ä½™æ•°æ¥è®¿é—®æ•°ç»„ä¸‹æ ‡æ‰è¡Œã€‚")]),t._v(" "),a("h4",{attrs:{id:"å–æ¨¡è¿ç®—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å–æ¨¡è¿ç®—"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#%E5%8F%96%E6%A8%A1%E8%BF%90%E7%AE%97",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("å–æ¨¡è¿ç®—")]),t._v(" "),a("p",[t._v("å–æ¨¡è¿ç®—ï¼ˆï¼ˆâ€œModulo Operationâ€ï¼‰ï¼‰å’Œå–ä½™è¿ç®—ï¼ˆï¼ˆâ€œRemainder Operation â€ï¼‰ï¼‰æ˜¯ä¸¤ç§ä¸åŒçš„è¿ç®—æ–¹å¼ï¼Œå®ƒä»¬åœ¨è®¡ç®—æœºä¸­çš„å®ç°ä¹Ÿä¸åŒã€‚")]),t._v(" "),a("p",[t._v("åœ¨æ•°å­¦ä¸­ï¼Œå–æ¨¡è¿ç®—å’Œå–ä½™è¿ç®—æ˜¯ç­‰ä»·çš„ï¼Œéƒ½æ˜¯è®¡ç®—ä¸€ä¸ªæ•°é™¤ä»¥å¦ä¸€ä¸ªæ•°çš„ä½™æ•°ã€‚ä¾‹å¦‚ï¼Œ10 mod 3 å’Œ 10 % 3 éƒ½ç­‰äº 1ï¼Œå› ä¸º 10 é™¤ä»¥ 3 çš„ä½™æ•°æ˜¯ 1ã€‚")]),t._v(" "),a("p",[t._v("åœ¨è®¡ç®—æœºä¸­ï¼Œå–æ¨¡è¿ç®—å’Œå–ä½™è¿ç®—çš„å·®åˆ«åœ¨äºï¼Œå½“è¢«é™¤æ•°ä¸ºè´Ÿæ•°æ—¶ï¼Œ"),a("strong",[t._v("å–æ¨¡è¿ç®—çš„ç»“æœç¬¦å·ä¸è¢«é™¤æ•°ç›¸åŒï¼Œå–ä½™è¿ç®—çš„ç»“æœç¬¦å·ä¸é™¤æ•°ç›¸åŒ")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼Œ-10 mod 3 çš„ç»“æœæ˜¯ -1ï¼Œè€Œ -10 % 3 çš„ç»“æœæ˜¯ 2ï¼Œå› ä¸º -10 é™¤ä»¥ 3 çš„ä½™æ•°æ˜¯ -1ï¼Œæ‰€ä»¥ -10 å–æ¨¡ 3 çš„ç»“æœåº”è¯¥æ˜¯ -1ï¼›è€Œ -10 å¯¹ 3 å–ä½™çš„ç»“æœæ˜¯ 2ï¼Œå› ä¸ºï¼š-10 Ã· 3 = -3 ä½™ -1ï¼Œç”±äºé™¤æ•°ä¸ºæ­£æ•° 3ï¼Œä½™æ•°çš„ç¬¦å·åº”ä¸è¢«é™¤æ•°çš„ç¬¦å·ç›¸åŒï¼Œå› æ­¤ä½™æ•°åº”ä¸ºæ­£æ•° 2ï¼Œè€Œä¸æ˜¯ -1ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ Java ä¸­ï¼Œå–æ¨¡è¿ç®—ä½¿ç”¨ % è¿ç®—ç¬¦ï¼Œå–ä½™è¿ç®—ä½¿ç”¨ "),a("code",[t._v("Math.floorMod()")]),t._v(" æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œè®¡ç®— -10 mod 3 å’Œ -10 % 3 çš„ç»“æœï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a = -1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" b "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floorMod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b = 2")]),t._v("\n")])])]),a("p",[t._v("éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ•°å­¦ä¸­ï¼Œå–æ¨¡è¿ç®—å’Œå–ä½™è¿ç®—éƒ½æœ‰å®šä¹‰åŸŸçš„é™åˆ¶ï¼Œå³é™¤æ•°ä¸èƒ½ä¸º 0ã€‚åœ¨è®¡ç®—æœºä¸­ï¼Œé™¤æ•°ä¸º 0 ä¼šæŠ›å‡ºå¼‚å¸¸æˆ–è¿”å› NaNï¼ˆNot a Numberï¼‰ã€‚")]),t._v(" "),a("p",[t._v("HashMap çš„å–æ¨¡è¿ç®—æœ‰ä¸¤å¤„ã€‚")]),t._v(" "),a("p",[t._v("ä¸€å¤„æ˜¯å¾€ HashMap ä¸­ put çš„æ—¶å€™ï¼ˆä¼šè°ƒç”¨ç§æœ‰çš„ "),a("code",[t._v("putVal")]),t._v(" æ–¹æ³•ï¼‰ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("putVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" onlyIfAbsent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" evict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°ç»„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å…ƒç´ ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// n ä¸ºæ•°ç»„çš„é•¿åº¦ i ä¸ºä¸‹æ ‡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ•°ç»„ä¸ºç©ºçš„æ—¶å€™")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¬ä¸€æ¬¡æ‰©å®¹åçš„æ•°ç»„é•¿åº¦")]),t._v("\n        n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—èŠ‚ç‚¹çš„æ’å…¥ä½ç½®ï¼Œå¦‚æœè¯¥ä½ç½®ä¸ºç©ºï¼Œåˆ™æ–°å»ºä¸€ä¸ªèŠ‚ç‚¹æ’å…¥")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å…¶ä¸­ "),a("code",[t._v("(n - 1) & hash")]),t._v(" ä¸ºå–æ¨¡è¿ç®—ï¼Œä¸ºä»€ä¹ˆæ²¡ç”¨ "),a("code",[t._v("%")]),t._v("ï¼Œæˆ‘ä»¬éšåè§£é‡Šã€‚")]),t._v(" "),a("p",[t._v("ä¸€å¤„æ˜¯ä» HashMap ä¸­ get çš„æ—¶å€™ï¼ˆä¼šè°ƒç”¨ "),a("code",[t._v("getNode")]),t._v(" æ–¹æ³•ï¼‰ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–å½“å‰çš„æ•°ç»„å’Œé•¿åº¦ï¼Œä»¥åŠå½“å‰èŠ‚ç‚¹é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆæ ¹æ®ç´¢å¼•ç›´æ¥ä»æ•°ç»„ä¸­æ‰¾ï¼‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" first"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("first "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯è¦æŸ¥æ‰¾çš„èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¿”å›")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("first"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" first"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" first"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¸æ˜¯è¦æŸ¥æ‰¾çš„èŠ‚ç‚¹ï¼Œåˆ™éå†èŠ‚ç‚¹é“¾è¡¨æŸ¥æ‰¾")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" first"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœèŠ‚ç‚¹é“¾è¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„èŠ‚ç‚¹ï¼Œåˆ™è¿”å› null")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("çœ‹åˆ°æ²¡ï¼Œå–æ¨¡è¿ç®— "),a("code",[t._v("(n - 1) & hash")]),t._v(" å†æ¬¡å‡ºç°ï¼Œè¯´ç®€å•ç‚¹ï¼Œå°±æ˜¯æŠŠé”®çš„å“ˆå¸Œç ç»è¿‡ "),a("code",[t._v("hash()")]),t._v(" æ–¹æ³•è®¡ç®—åï¼Œå†å’Œï¼ˆæ•°ç»„é•¿åº¦-1ï¼‰åšäº†ä¸€ä¸ªâ€œä¸â€è¿ç®—ã€‚")]),t._v(" "),a("h4",{attrs:{id:"å–æ¨¡è¿ç®—-å’Œä½è¿ç®—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å–æ¨¡è¿ç®—-å’Œä½è¿ç®—"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#%E5%8F%96%E6%A8%A1%E8%BF%90%E7%AE%97-%E5%92%8C%E4%BD%8D%E8%BF%90%E7%AE%97",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("å–æ¨¡è¿ç®—%å’Œä½è¿ç®—&")]),t._v(" "),a("p",[t._v("å¯èƒ½å¤§å®¶åœ¨ç–‘æƒ‘ï¼š"),a("strong",[t._v("å–æ¨¡è¿ç®—éš¾é“ä¸è¯¥ç”¨ "),a("code",[t._v("%")]),t._v(" å—ï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨ä½è¿ç®— "),a("code",[t._v("&")]),t._v(" å‘¢")]),t._v("ï¼Ÿ")]),t._v(" "),a("p",[t._v("è¿™æ˜¯å› ä¸º "),a("code",[t._v("&")]),t._v(" è¿ç®—æ¯” "),a("code",[t._v("%")]),t._v(" æ›´åŠ é«˜æ•ˆï¼Œå¹¶ä¸”å½“ b ä¸º 2 çš„ n æ¬¡æ–¹æ—¶ï¼Œå­˜åœ¨ä¸‹é¢è¿™æ ·ä¸€ä¸ªå…¬å¼ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("a % b = a & (b-1)")])]),t._v(" "),a("p",[t._v("ç”¨ $2^n$ æ›¿æ¢ä¸‹ b å°±æ˜¯ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("a % $2^n$ = a & ($2^n$-1)")])]),t._v(" "),a("p",[t._v("æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹ï¼Œå‡å¦‚ a = 14ï¼Œb = 8ï¼Œä¹Ÿå°±æ˜¯ $2^3$ï¼Œn=3ã€‚")]),t._v(" "),a("p",[t._v("14%8ï¼ˆä½™æ•°ä¸º 6ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("14 çš„äºŒè¿›åˆ¶ä¸º 1110ï¼Œ8 çš„äºŒè¿›åˆ¶ 1000ï¼Œ8-1 = 7ï¼Œ7 çš„äºŒè¿›åˆ¶ä¸º 0111ï¼Œ1110&0111=0110ï¼Œä¹Ÿå°±æ˜¯ 0"),a("code",[t._v("*")]),t._v("$2^0$+1"),a("code",[t._v("*")]),t._v("$2^1$+1"),a("code",[t._v("*")]),t._v("$2^2$+0"),a("code",[t._v("*")]),t._v("$2^3$=0+2+4+0=6ï¼Œ14%8 åˆšå¥½ä¹Ÿç­‰äº 6ã€‚")]),t._v(" "),a("p",[t._v("å®³ï¼Œè®¡ç®—æœºå°±æ˜¯è¿™ä¹ˆè®²é“ç†ï¼Œæ²¡åŠæ³•ï¼ŒğŸ˜")]),t._v(" "),a("p",[t._v("è¿™ä¹Ÿæ­£å¥½è§£é‡Šäº†ä¸ºä»€ä¹ˆ HashMap çš„æ•°ç»„é•¿åº¦è¦å– 2 çš„æ•´æ¬¡æ–¹ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºä»€ä¹ˆä¼šè¿™æ ·å·§å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("å› ä¸ºï¼ˆæ•°ç»„é•¿åº¦-1ï¼‰æ­£å¥½ç›¸å½“äºä¸€ä¸ªâ€œä½ä½æ©ç â€â€”â€”è¿™ä¸ªæ©ç çš„ä½ä½æœ€å¥½å…¨æ˜¯ 1ï¼Œè¿™æ · & æ“ä½œæ‰æœ‰æ„ä¹‰ï¼Œå¦åˆ™ç»“æœå°±è‚¯å®šæ˜¯ 0ï¼Œé‚£ä¹ˆ & æ“ä½œå°±æ²¡æœ‰æ„ä¹‰äº†ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("a&b æ“ä½œçš„ç»“æœæ˜¯ï¼šaã€b ä¸­å¯¹åº”ä½åŒæ—¶ä¸º 1ï¼Œåˆ™å¯¹åº”ç»“æœä½ä¸º 1ï¼Œå¦åˆ™ä¸º 0")])]),t._v(" "),a("p",[t._v("2 çš„æ•´æ¬¡å¹‚åˆšå¥½æ˜¯å¶æ•°ï¼Œå¶æ•°-1 æ˜¯å¥‡æ•°ï¼Œå¥‡æ•°çš„äºŒè¿›åˆ¶æœ€åä¸€ä½æ˜¯ 1ï¼Œä¿è¯äº† hash &(length-1) çš„æœ€åä¸€ä½å¯èƒ½ä¸º 0ï¼Œä¹Ÿå¯èƒ½ä¸º 1ï¼ˆè¿™å–å†³äº h çš„å€¼ï¼‰ï¼Œå³ & è¿ç®—åçš„ç»“æœå¯èƒ½ä¸ºå¶æ•°ï¼Œä¹Ÿå¯èƒ½ä¸ºå¥‡æ•°ï¼Œè¿™æ ·ä¾¿å¯ä»¥ä¿è¯å“ˆå¸Œå€¼çš„å‡åŒ€æ€§ã€‚")]),t._v(" "),a("p",[t._v("& æ“ä½œçš„ç»“æœå°±æ˜¯å°†å“ˆå¸Œå€¼çš„é«˜ä½å…¨éƒ¨å½’é›¶ï¼Œåªä¿ç•™ä½ä½å€¼ï¼Œç”¨æ¥åšæ•°ç»„ä¸‹æ ‡è®¿é—®ã€‚")]),t._v(" "),a("p",[t._v("å‡è®¾æŸå“ˆå¸Œå€¼ä¸º "),a("code",[t._v("10100101 11000100 00100101")]),t._v("ï¼Œç”¨å®ƒæ¥åšå–æ¨¡è¿ç®—ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç»“æœã€‚HashMap çš„åˆå§‹é•¿åº¦ä¸º 16ï¼ˆå†…éƒ¨æ˜¯æ•°ç»„ï¼‰ï¼Œ16-1=15ï¼ŒäºŒè¿›åˆ¶æ˜¯ "),a("code",[t._v("00000000 00000000 00001111")]),t._v("ï¼ˆé«˜ä½ç”¨ 0 æ¥è¡¥é½ï¼‰ï¼š")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("\t 10100101 11000100 00100101\n&amp;\t 00000000 00000000 00001111\n----------------------------------\n\t 00000000 00000000 00000101\n")])])]),a("p",[t._v("å› ä¸º 15 çš„é«˜ä½å…¨éƒ¨æ˜¯ 0ï¼Œæ‰€ä»¥ & è¿ç®—åçš„é«˜ä½ç»“æœè‚¯å®šæ˜¯ 0ï¼Œåªå‰©ä¸‹ 4 ä¸ªä½ä½ "),a("code",[t._v("0101")]),t._v("ï¼Œä¹Ÿå°±æ˜¯åè¿›åˆ¶çš„ 5ï¼Œä¹Ÿå°±æ˜¯å°†å“ˆå¸Œå€¼ä¸º "),a("code",[t._v("10100101 11000100 00100101")]),t._v(" çš„é”®æ”¾åœ¨æ•°ç»„çš„ç¬¬ 5 ä½ã€‚")]),t._v(" "),a("p",[t._v("å½“ç„¶äº†ï¼Œå¦‚æœä½ æ˜¯æ–°æ‰‹ï¼Œä¸Šé¢è¿™äº› 01 ä¸²æ²¡çœ‹æ‡‚ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œè®°ä½å–æ¨¡è¿ç®—å°±è¡Œäº†ï¼Œè®°ä¸ä½å–æ¨¡è¿ç®—ä¹Ÿæ²¡å…³ç³»ï¼Œè®°ä½"),a("strong",[t._v("å–æ¨¡è¿ç®—æ˜¯ä¸ºäº†è®¡ç®—æ•°ç»„çš„ä¸‹æ ‡å°±å¯ä»¥äº†")]),t._v("ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("put çš„æ—¶å€™è®¡ç®—ä¸‹æ ‡ï¼ŒæŠŠé”®å€¼å¯¹æ”¾åˆ°å¯¹åº”çš„æ¡¶ä¸Šã€‚")]),t._v(" "),a("li",[t._v("get çš„æ—¶å€™é€šè¿‡ä¸‹æ ‡ï¼ŒæŠŠé”®å€¼å¯¹ä»å¯¹åº”çš„æ¡¶ä¸Šå–å‡ºæ¥ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"ä¸ºä»€ä¹ˆå–æ¨¡è¿ç®—ä¹‹å‰è¦è°ƒç”¨-hash-æ–¹æ³•å‘¢"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆå–æ¨¡è¿ç®—ä¹‹å‰è¦è°ƒç”¨-hash-æ–¹æ³•å‘¢"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%96%E6%A8%A1%E8%BF%90%E7%AE%97%E4%B9%8B%E5%89%8D%E8%A6%81%E8%B0%83%E7%94%A8-hash-%E6%96%B9%E6%B3%95%E5%91%A2",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("ä¸ºä»€ä¹ˆå–æ¨¡è¿ç®—ä¹‹å‰è¦è°ƒç”¨ hash æ–¹æ³•å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("çœ‹ä¸‹é¢è¿™ä¸ªå›¾ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hash-01.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æŸå“ˆå¸Œå€¼ä¸º "),a("code",[t._v("11111111 11111111 11110000 1110 1010")]),t._v("ï¼Œå°†å®ƒå³ç§» 16 ä½ï¼ˆh >>> 16ï¼‰ï¼Œåˆšå¥½æ˜¯ "),a("code",[t._v("00000000 00000000 11111111 11111111")]),t._v("ï¼Œå†è¿›è¡Œå¼‚æˆ–æ“ä½œï¼ˆh ^ (h >>> 16)ï¼‰ï¼Œç»“æœæ˜¯ "),a("code",[t._v("11111111 11111111 00001111 00010101")])]),t._v(" "),a("blockquote",[a("p",[t._v("å¼‚æˆ–ï¼ˆ"),a("code",[t._v("^")]),t._v("ï¼‰è¿ç®—æ˜¯åŸºäºäºŒè¿›åˆ¶çš„ä½è¿ç®—ï¼Œé‡‡ç”¨ç¬¦å· XOR æˆ–è€…"),a("code",[t._v("^")]),t._v("æ¥è¡¨ç¤ºï¼Œè¿ç®—è§„åˆ™æ˜¯ï¼šå¦‚æœæ˜¯åŒå€¼å– 0ã€å¼‚å€¼å– 1")])]),t._v(" "),a("p",[t._v("ç”±äºæ··åˆäº†åŸæ¥å“ˆå¸Œå€¼çš„é«˜ä½å’Œä½ä½ï¼Œæ‰€ä»¥ä½ä½çš„éšæœºæ€§åŠ å¤§äº†ï¼ˆæºæ‚äº†éƒ¨åˆ†é«˜ä½çš„ç‰¹å¾ï¼Œé«˜ä½çš„ä¿¡æ¯ä¹Ÿå¾—åˆ°äº†ä¿ç•™ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("ç»“æœå†ä¸æ•°ç»„é•¿åº¦-1ï¼ˆ"),a("code",[t._v("00000000 00000000 00000000 00001111")]),t._v("ï¼‰åšå–æ¨¡è¿ç®—ï¼Œå¾—åˆ°çš„ä¸‹æ ‡å°±æ˜¯ "),a("code",[t._v("00000000 00000000 00000000 00000101")]),t._v("ï¼Œä¹Ÿå°±æ˜¯ 5ã€‚")]),t._v(" "),a("p",[t._v("è¿˜è®°å¾—ä¹‹å‰æˆ‘ä»¬å‡è®¾çš„æŸå“ˆå¸Œå€¼ "),a("code",[t._v("10100101 11000100 00100101")]),t._v(" å—ï¼Ÿåœ¨æ²¡æœ‰è°ƒç”¨ hash æ–¹æ³•ä¹‹å‰ï¼Œä¸ 15 åšå–æ¨¡è¿ç®—åçš„ç»“æœä¹Ÿæ˜¯ 5ï¼Œæˆ‘ä»¬ä¸å¦¨æ¥çœ‹çœ‹è°ƒç”¨ hash ä¹‹åçš„å–æ¨¡è¿ç®—ç»“æœæ˜¯å¤šå°‘ã€‚")]),t._v(" "),a("p",[t._v("æŸå“ˆå¸Œå€¼ "),a("code",[t._v("00000000 10100101 11000100 00100101")]),t._v("ï¼ˆè¡¥é½ 32 ä½ï¼‰ï¼Œå°†å®ƒå³ç§» 16 ä½ï¼ˆh >>> 16ï¼‰ï¼Œåˆšå¥½æ˜¯ "),a("code",[t._v("00000000 00000000 00000000 10100101")]),t._v("ï¼Œå†è¿›è¡Œå¼‚æˆ–æ“ä½œï¼ˆh ^ (h >>> 16)ï¼‰ï¼Œç»“æœæ˜¯ "),a("code",[t._v("00000000 10100101 00111011 10000000")])]),t._v(" "),a("p",[t._v("ç»“æœå†ä¸æ•°ç»„é•¿åº¦-1ï¼ˆ"),a("code",[t._v("00000000 00000000 00000000 00001111")]),t._v("ï¼‰åšå–æ¨¡è¿ç®—ï¼Œå¾—åˆ°çš„ä¸‹æ ‡å°±æ˜¯ "),a("code",[t._v("00000000 00000000 00000000 00000000")]),t._v("ï¼Œä¹Ÿå°±æ˜¯ 0ã€‚")]),t._v(" "),a("p",[t._v("ç»¼ä¸Šæ‰€è¿°ï¼Œ"),a("strong",[t._v("hash æ–¹æ³•æ˜¯ç”¨æ¥åšå“ˆå¸Œå€¼ä¼˜åŒ–çš„")]),t._v("ï¼ŒæŠŠå“ˆå¸Œå€¼å³ç§» 16 ä½ï¼Œä¹Ÿå°±æ­£å¥½æ˜¯è‡ªå·±é•¿åº¦çš„ä¸€åŠï¼Œä¹‹åä¸åŸå“ˆå¸Œå€¼åšå¼‚æˆ–è¿ç®—ï¼Œè¿™æ ·å°±æ··åˆäº†åŸå“ˆå¸Œå€¼ä¸­çš„é«˜ä½å’Œä½ä½ï¼Œå¢å¤§äº†éšæœºæ€§ã€‚")]),t._v(" "),a("p",[t._v("è¯´ç™½äº†ï¼Œ"),a("strong",[t._v("hash æ–¹æ³•å°±æ˜¯ä¸ºäº†å¢åŠ éšæœºæ€§ï¼Œè®©æ•°æ®å…ƒç´ æ›´åŠ å‡è¡¡çš„åˆ†å¸ƒï¼Œå‡å°‘ç¢°æ’")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘è¿™é‡Œå†™äº†ä¸€æ®µæµ‹è¯•ä»£ç ï¼Œå‡å¦‚ HashMap çš„å®¹é‡å°±æ˜¯ç¬¬ä¸€æ¬¡æ‰©å®¹æ—¶å€™çš„ 16ï¼Œæˆ‘åœ¨é‡Œé¢æ”¾äº†äº”ä¸ªé”®å€¼å¯¹ï¼Œæ¥çœ‹ä¸€ä¸‹é”®çš„ hash å€¼ï¼ˆç»è¿‡ "),a("code",[t._v("hash()")]),t._v(" æ–¹æ³•è®¡ç®—åçš„å“ˆå¸Œç ï¼‰å’Œç´¢å¼•ï¼ˆå–æ¨¡è¿ç®—åï¼‰")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chenmo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ²‰é»˜"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wanger"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç‹äºŒ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chenqingyang"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"é™ˆæ¸…æ‰¬"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xiaozhuanling"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å°è½¬é“ƒ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fangxiaowan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ–¹å°å©‰"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå† HashMap")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("keySet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“å° key çš„ hash å€¼ å’Œ ç´¢å¼• i")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"çš„hashå€¼ : "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" çš„ç´¢å¼• : "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("xiaozhuanlingçš„hashå€¼ : 14597045 çš„ç´¢å¼• : 5\nfangxiaowançš„hashå€¼ : -392727066 çš„ç´¢å¼• : 6\nchenmoçš„hashå€¼ : -1361556696 çš„ç´¢å¼• : 8\nchenqingyangçš„hashå€¼ : -613818743 çš„ç´¢å¼• : 9\nwangerçš„hashå€¼ : -795084437 çš„ç´¢å¼• : 11\n")])])]),a("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤æ—¶è¿˜æ²¡æœ‰å‘ç”Ÿå“ˆå¸Œå†²çªï¼Œç´¢å¼•å€¼éƒ½æ˜¯æ¯”è¾ƒå‡åŒ€åˆ†å¸ƒçš„ï¼Œ5ã€6ã€8ã€9ã€11ï¼Œè¿™å…¶ä¸­çš„å¾ˆå¤§ä¸€éƒ¨åˆ†åŠŸåŠ³ï¼Œå°±æ¥è‡ªäº hash æ–¹æ³•ã€‚")]),t._v(" "),a("h4",{attrs:{id:"å°ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#%E5%B0%8F%E7%BB%93",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("å°ç»“")]),t._v(" "),a("p",[t._v("hash æ–¹æ³•çš„ä¸»è¦ä½œç”¨æ˜¯å°† key çš„ hashCode å€¼è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆçš„å“ˆå¸Œå€¼ã€‚ç”±äº key çš„ hashCode å€¼æ˜¯ä¸ç¡®å®šçš„ï¼Œå¯èƒ½ä¼šå‡ºç°å“ˆå¸Œå†²çªï¼Œå› æ­¤éœ€è¦å°†å“ˆå¸Œå€¼é€šè¿‡ä¸€å®šçš„ç®—æ³•æ˜ å°„åˆ° HashMap çš„å®é™…å­˜å‚¨ä½ç½®ä¸Šã€‚")]),t._v(" "),a("p",[t._v("hash æ–¹æ³•çš„åŸç†æ˜¯ï¼Œå…ˆè·å– key å¯¹è±¡çš„ hashCode å€¼ï¼Œç„¶åå°†å…¶é«˜ä½ä¸ä½ä½è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å“ˆå¸Œå€¼ã€‚ä¸ºä»€ä¹ˆè¦è¿›è¡Œå¼‚æˆ–æ“ä½œå‘¢ï¼Ÿå› ä¸ºå¯¹äº hashCode çš„é«˜ä½å’Œä½ä½ï¼Œå®ƒä»¬çš„åˆ†å¸ƒæ˜¯æ¯”è¾ƒå‡åŒ€çš„ï¼Œå¦‚æœåªæ˜¯ç®€å•åœ°å°†å®ƒä»¬åŠ èµ·æ¥æˆ–è€…è¿›è¡Œä½è¿ç®—ï¼Œå®¹æ˜“å‡ºç°å“ˆå¸Œå†²çªï¼Œè€Œå¼‚æˆ–æ“ä½œå¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚")]),t._v(" "),a("p",[t._v("ç„¶åå°†æ–°çš„å“ˆå¸Œå€¼å–æ¨¡ï¼ˆmodï¼‰ï¼Œå¾—åˆ°ä¸€ä¸ªå®é™…çš„å­˜å‚¨ä½ç½®ã€‚è¿™ä¸ªå–æ¨¡æ“ä½œçš„ç›®çš„æ˜¯å°†å“ˆå¸Œå€¼æ˜ å°„åˆ°æ¡¶ï¼ˆBucketï¼‰çš„ç´¢å¼•ä¸Šï¼Œæ¡¶æ˜¯ HashMap ä¸­çš„ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ¡¶ä¸­ä¼šå­˜å‚¨ç€ä¸€ä¸ªé“¾è¡¨ï¼ˆæˆ–è€…çº¢é»‘æ ‘ï¼‰ï¼Œè£…è½½å“ˆå¸Œå€¼ç›¸åŒçš„é”®å€¼å¯¹ï¼ˆæ²¡æœ‰ç›¸åŒå“ˆå¸Œå€¼çš„è¯å°±åªå­˜å‚¨ä¸€ä¸ªé”®å€¼å¯¹ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("æ€»çš„æ¥è¯´ï¼ŒHashMap çš„ hash æ–¹æ³•å°±æ˜¯å°† key å¯¹è±¡çš„ hashCode å€¼è¿›è¡Œå¤„ç†ï¼Œå¾—åˆ°æœ€ç»ˆçš„å“ˆå¸Œå€¼ï¼Œå¹¶é€šè¿‡ä¸€å®šçš„ç®—æ³•æ˜ å°„åˆ°å®é™…çš„å­˜å‚¨ä½ç½®ä¸Šã€‚è¿™ä¸ªè¿‡ç¨‹å†³å®šäº† HashMap å†…éƒ¨é”®å€¼å¯¹çš„æŸ¥æ‰¾æ•ˆç‡ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_02ã€hashmapçš„æ‰©å®¹æœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_02ã€hashmapçš„æ‰©å®¹æœºåˆ¶"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_02%E3%80%81hashmap%E7%9A%84%E6%89%A9%E5%AE%B9%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("02ã€HashMapçš„æ‰©å®¹æœºåˆ¶")]),t._v(" "),a("p",[t._v("å¥½ï¼Œç†è§£äº† hash æ–¹æ³•åæˆ‘ä»¬æ¥çœ‹ç¬¬äºŒä¸ªé—®é¢˜ï¼ŒHashMap çš„æ‰©å®¹æœºåˆ¶ã€‚")]),t._v(" "),a("p",[t._v("å¤§å®¶éƒ½çŸ¥é“ï¼Œæ•°ç»„ä¸€æ—¦åˆå§‹åŒ–åå¤§å°å°±æ— æ³•æ”¹å˜äº†ï¼Œæ‰€ä»¥å°±æœ‰äº† "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/arraylist.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ArrayListopen in new window"),a("OutboundLink")],1),t._v("è¿™ç§â€œåŠ¨æ€æ•°ç»„â€ï¼Œå¯ä»¥è‡ªåŠ¨æ‰©å®¹ã€‚")]),t._v(" "),a("p",[t._v("HashMap çš„åº•å±‚ç”¨çš„ä¹Ÿæ˜¯æ•°ç»„ã€‚å‘ HashMap é‡Œä¸åœåœ°æ·»åŠ å…ƒç´ ï¼Œå½“æ•°ç»„æ— æ³•è£…è½½æ›´å¤šå…ƒç´ æ—¶ï¼Œå°±éœ€è¦å¯¹æ•°ç»„è¿›è¡Œæ‰©å®¹ï¼Œä»¥ä¾¿è£…å…¥æ›´å¤šçš„å…ƒç´ ï¼›é™¤æ­¤ä¹‹å¤–ï¼Œå®¹é‡çš„æå‡ä¹Ÿä¼šç›¸åº”åœ°æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œå› ä¸ºâ€œæ¡¶ï¼ˆå‘ï¼‰â€æ›´å¤šäº†å˜›ï¼ŒåŸæ¥éœ€è¦é€šè¿‡é“¾è¡¨å­˜å‚¨çš„ï¼ˆæŸ¥è¯¢çš„æ—¶å€™éœ€è¦éå†ï¼‰ï¼Œæ‰©å®¹åå¯èƒ½å°±æœ‰è‡ªå·±ä¸“å±çš„â€œå‘ä½â€äº†ï¼ˆç›´æ¥å°±èƒ½æŸ¥å‡ºæ¥ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("æ¥çœ‹è¿™ä¸ªä¾‹å­ï¼Œå®¹é‡æˆ‘ä»¬å®šä½ 16ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" map "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HashMap")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chenmo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ²‰é»˜"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wanger"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ç‹äºŒ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"chenqingyang"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"é™ˆæ¸…æ‰¬"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xiaozhuanling"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å°è½¬é“ƒ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fangxiaowan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æ–¹å°å©‰"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yexin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¶è¾›"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"liuting"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"åˆ˜å©·"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("put")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"yaoxiaojuan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å§šå°å¨Ÿ"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå† HashMap")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("keySet")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰“å° key çš„ hash å€¼ å’Œ ç´¢å¼• i")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"çš„hashå€¼ : "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('" çš„ç´¢å¼• : "')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ¥çœ‹è¾“å‡ºç»“æœï¼š")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("liutingçš„hashå€¼ : 183821170 çš„ç´¢å¼• : 2\nxiaozhuanlingçš„hashå€¼ : 14597045 çš„ç´¢å¼• : 5\nfangxiaowançš„hashå€¼ : -392727066 çš„ç´¢å¼• : 6\nyaoxiaojuançš„hashå€¼ : 1231568918 çš„ç´¢å¼• : 6\nchenmoçš„hashå€¼ : -1361556696 çš„ç´¢å¼• : 8\nchenqingyangçš„hashå€¼ : -613818743 çš„ç´¢å¼• : 9\nyexinçš„hashå€¼ : 114873289 çš„ç´¢å¼• : 9\nwangerçš„hashå€¼ : -795084437 çš„ç´¢å¼• : 11\n")])])]),a("p",[t._v("çœ‹åˆ°æ²¡ï¼Ÿ")]),t._v(" "),a("ul",[a("li",[t._v("fangxiaowanï¼ˆæ–¹å°å©‰ï¼‰å’Œ yaoxiaojuanï¼ˆå§šå°å¨Ÿï¼‰çš„ç´¢å¼•éƒ½æ˜¯ 6ï¼›")]),t._v(" "),a("li",[t._v("chenqingyangï¼ˆé™ˆæ¸…æ‰¬ï¼‰å’Œyexinï¼ˆå¶è¾›ï¼‰çš„ç´¢å¼•éƒ½æ˜¯ 9")])]),t._v(" "),a("p",[t._v("è¿™å°±æ„å‘³ç€ï¼Œè¦é‡‡ç”¨æ‹‰é“¾æ³•ï¼ˆåé¢ä¼šè®²ï¼‰å°†ä»–ä»¬æ”¾åœ¨åŒä¸€ä¸ªç´¢å¼•çš„é“¾è¡¨ä¸Šã€‚æŸ¥è¯¢çš„æ—¶å€™ï¼Œå°±ä¸èƒ½ç›´æ¥é€šè¿‡ç´¢å¼•çš„æ–¹å¼ç›´æ¥æ‹¿åˆ°ï¼ˆ"),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/time-complexity.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("æ—¶é—´å¤æ‚åº¦open in new window"),a("OutboundLink")],1),t._v("ä¸º O(1)ï¼‰ï¼Œè€Œè¦é€šè¿‡éå†çš„æ–¹å¼ï¼ˆæ—¶é—´å¤æ‚åº¦ä¸º O(n)ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("é‚£å‡å¦‚æŠŠæ•°ç»„çš„é•¿åº¦ç”± 16 æ‰©å®¹ä¸º 32 å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("å°†ä¹‹å‰ç¤ºä¾‹ä¸­çš„ n ç”± 16 æ”¹ä¸º 32 å³å¯å¾—åˆ°å¦‚ä¸‹çš„ç­”æ¡ˆï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("liutingçš„hashå€¼ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("183821170")]),t._v(" çš„ç´¢å¼• "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v("\nxiaozhuanlingçš„hashå€¼ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("14597045")]),t._v(" çš„ç´¢å¼• "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v("\nfangxiaowançš„hashå€¼ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("392727066")]),t._v(" çš„ç´¢å¼• "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\nyaoxiaojuançš„hashå€¼ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1231568918")]),t._v(" çš„ç´¢å¼• "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),t._v("\nchenmoçš„hashå€¼ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1361556696")]),t._v(" çš„ç´¢å¼• "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\nchenqingyangçš„hashå€¼ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("613818743")]),t._v(" çš„ç´¢å¼• "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("\nyexinçš„hashå€¼ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("114873289")]),t._v(" çš„ç´¢å¼• "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v("\nwangerçš„hashå€¼ "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("795084437")]),t._v(" çš„ç´¢å¼• "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("\n")])])]),a("p",[t._v("å¯ä»¥çœ‹åˆ°ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("è™½ç„¶chenqingyangï¼ˆé™ˆæ¸…æ‰¬ï¼‰å’Œyexinï¼ˆå¶è¾›ï¼‰çš„ç´¢å¼•ä»ç„¶æ˜¯ 9ã€‚")]),t._v(" "),a("li",[t._v("ä½† fangxiaowanï¼ˆæ–¹å°å©‰ï¼‰çš„ç´¢å¼•ä¸º 6ï¼Œyaoxiaojuanï¼ˆå§šå°å¨Ÿï¼‰çš„ç´¢å¼•ç”± 6 å˜ä¸º 22ï¼Œå„è‡ªéƒ½æœ‰å‘äº†ã€‚")])]),t._v(" "),a("p",[t._v("å½“ç„¶äº†ï¼Œæ•°ç»„æ˜¯æ— æ³•è‡ªåŠ¨æ‰©å®¹çš„ï¼Œæ‰€ä»¥å¦‚æœè¦æ‰©å®¹çš„è¯ï¼Œå°±éœ€è¦æ–°å»ºä¸€ä¸ªå¤§çš„æ•°ç»„ï¼Œç„¶åæŠŠä¹‹å‰å°çš„æ•°ç»„çš„å…ƒç´ å¤åˆ¶è¿‡å»ï¼Œå¹¶ä¸”è¦é‡æ–°è®¡ç®—å“ˆå¸Œå€¼å’Œé‡æ–°åˆ†é…æ¡¶ï¼ˆé‡æ–°æ•£åˆ—ï¼‰ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯æŒºè€—æ—¶çš„ã€‚")]),t._v(" "),a("h4",{attrs:{id:"resizeæ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resizeæ–¹æ³•"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#resize%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("resizeæ–¹æ³•")]),t._v(" "),a("p",[t._v("HashMap çš„æ‰©å®¹æ˜¯é€šè¿‡ resize æ–¹æ³•æ¥å®ç°çš„ï¼ŒJDK 8 ä¸­èå…¥äº†çº¢é»‘æ ‘ï¼ˆé“¾è¡¨é•¿åº¦è¶…è¿‡ 8 çš„æ—¶å€™ï¼Œä¼šå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘æ¥æé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰ï¼Œå¯¹äºæ–°æ‰‹æ¥è¯´ï¼Œå¯èƒ½æ¯”è¾ƒéš¾ç†è§£ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºäº†å‡è½»å¤§å®¶çš„å­¦ä¹ å‹åŠ›ï¼Œå°±è¿˜ä½¿ç”¨ JDK 7 çš„æºç ï¼Œææ¸…æ¥šäº† JDK 7 çš„ï¼Œå†çœ‹ JDK 8 çš„å°±ä¼šè½»æ¾å¾ˆå¤šã€‚")]),t._v(" "),a("p",[t._v("æ¥çœ‹ Java7 çš„ resize æ–¹æ³•æºç ï¼Œæˆ‘åŠ äº†æ³¨é‡Šï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// newCapacityä¸ºæ–°çš„å®¹é‡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" newCapacity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°æ•°ç»„ï¼Œä¸´æ—¶è¿‡åº¦ä¸‹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" oldTable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰©å®¹å‰çš„å®¹é‡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" oldCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MAXIMUM_CAPACITY ä¸ºæœ€å¤§å®¹é‡ï¼Œ2 çš„ 30 æ¬¡æ–¹ = 1<<30")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®¹é‡è°ƒæ•´ä¸º Integer çš„æœ€å¤§å€¼ 0x7fffffffï¼ˆåå…­è¿›åˆ¶ï¼‰=2 çš„ 31 æ¬¡æ–¹-1")]),t._v("\n        threshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAX_VALUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼ˆå¤§å®¹é‡ï¼‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" newTable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("newCapacity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŠŠå°æ•°ç»„çš„å…ƒç´ è½¬ç§»åˆ°å¤§æ•°ç»„ä¸­")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initHashSeedAsNeeded")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•ç”¨æ–°çš„å¤§æ•°ç»„")]),t._v("\n    table "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é‡æ–°è®¡ç®—é˜ˆå€¼")]),t._v("\n    threshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" loadFactor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ªæ–°çš„å®¹é‡ newCapacityï¼Œç„¶åå°† HashMap çš„å®¹é‡æ‰©å¤§åˆ° newCapacityã€‚")]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œæ–¹æ³•è·å–å½“å‰ HashMap çš„æ—§æ•°ç»„ oldTable å’Œæ—§å®¹é‡ oldCapacityã€‚å¦‚æœæ—§å®¹é‡å·²ç»è¾¾åˆ° HashMap æ”¯æŒçš„æœ€å¤§å®¹é‡ MAXIMUM_CAPACITYï¼ˆ 2 çš„ 30 æ¬¡æ–¹ï¼‰ï¼Œå°±å°†æ–°çš„é˜ˆå€¼ threshold è°ƒæ•´ä¸º Integer.MAX_VALUEï¼ˆ2 çš„ 31 æ¬¡æ–¹ - 1ï¼‰ï¼Œè¿™æ˜¯å› ä¸º HashMap çš„å®¹é‡ä¸èƒ½è¶…è¿‡ MAXIMUM_CAPACITYã€‚")]),t._v(" "),a("p",[t._v("å› ä¸º 2,147,483,647ï¼ˆInteger.MAX_VALUEï¼‰ - 1,073,741,824ï¼ˆMAXIMUM_CAPACITYï¼‰ = 1,073,741,823ï¼Œåˆšå¥½ç›¸å·®ä¸€å€ï¼ˆHashMap æ¯æ¬¡æ‰©å®¹éƒ½æ˜¯ä¹‹å‰çš„ä¸€å€ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("æ¥ç€ï¼Œæ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ newTableï¼Œå¹¶å°†æ—§æ•°ç»„ oldTable ä¸­çš„å…ƒç´ è½¬ç§»åˆ°æ–°æ•°ç»„ newTable ä¸­ã€‚è½¬ç§»è¿‡ç¨‹æ˜¯é€šè¿‡è°ƒç”¨ transfer æ–¹æ³•æ¥å®ç°çš„ã€‚è¯¥æ–¹æ³•éå†æ—§æ•°ç»„ä¸­çš„æ¯ä¸ªæ¡¶ï¼Œå¹¶å°†æ¯ä¸ªæ¡¶ä¸­çš„é”®å€¼å¯¹é‡æ–°è®¡ç®—å“ˆå¸Œå€¼åï¼Œå°†å…¶æ’å…¥åˆ°æ–°æ•°ç»„å¯¹åº”çš„æ¡¶ä¸­ã€‚")]),t._v(" "),a("p",[t._v("è½¬ç§»å®Œæˆåï¼Œæ–¹æ³•å°† HashMap å†…éƒ¨çš„æ•°ç»„å¼•ç”¨ table æŒ‡å‘æ–°æ•°ç»„ newTableï¼Œå¹¶é‡æ–°è®¡ç®—é˜ˆå€¼ thresholdã€‚æ–°çš„é˜ˆå€¼æ˜¯æ–°å®¹é‡ newCapacity ä¹˜ä»¥è´Ÿè½½å› å­ loadFactor çš„ç»“æœï¼Œä½†å¦‚æœè®¡ç®—ç»“æœè¶…è¿‡äº† HashMap æ”¯æŒçš„æœ€å¤§å®¹é‡ MAXIMUM_CAPACITYï¼Œåˆ™å°†é˜ˆå€¼è®¾ç½®ä¸º MAXIMUM_CAPACITY + 1ï¼Œè¿™æ˜¯å› ä¸º HashMap çš„å…ƒç´ æ•°é‡ä¸èƒ½è¶…è¿‡ MAXIMUM_CAPACITYã€‚")]),t._v(" "),a("h4",{attrs:{id:"æ–°å®¹é‡newcapacity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ–°å®¹é‡newcapacity"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#%E6%96%B0%E5%AE%B9%E9%87%8Fnewcapacity",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("æ–°å®¹é‡newCapacity")]),t._v(" "),a("p",[t._v("é‚£ newCapacity æ˜¯å¦‚ä½•è®¡ç®—çš„å‘¢ï¼Ÿ")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ–°å®¹é‡ newCapacity è¢«åˆå§‹åŒ–ä¸ºåŸå®¹é‡ oldCapacity çš„ä¸¤å€ã€‚ç„¶åï¼Œå¦‚æœ newCapacity è¶…è¿‡äº† HashMap çš„å®¹é‡é™åˆ¶ MAXIMUM_CAPACITYï¼ˆ2^30ï¼‰ï¼Œå°±å°† newCapacity è®¾ç½®ä¸º MAXIMUM_CAPACITYã€‚å¦‚æœ newCapacity å°äºé»˜è®¤åˆå§‹å®¹é‡ DEFAULT_INITIAL_CAPACITYï¼ˆ16ï¼‰ï¼Œå°±å°† newCapacity è®¾ç½®ä¸º DEFAULT_INITIAL_CAPACITYã€‚è¿™æ ·å¯ä»¥é¿å…æ–°å®¹é‡å¤ªå°æˆ–å¤ªå¤§å¯¼è‡´å“ˆå¸Œå†²çªè¿‡å¤šæˆ–è€…æµªè´¹ç©ºé—´ã€‚")]),t._v(" "),a("p",[t._v("Java 8 çš„æ—¶å€™ï¼ŒnewCapacity çš„è®¡ç®—æ–¹å¼å‘ç”Ÿäº†ä¸€äº›ç»†å¾®çš„å˜åŒ–ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" oldCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ³¨æ„ï¼Œ"),a("code",[t._v("oldCapacity * 2")]),t._v(" å˜æˆäº† "),a("code",[t._v("oldCapacity << 1")]),t._v("ï¼Œå‡ºç°äº†å·¦ç§»ï¼ˆ"),a("code",[t._v("<<")]),t._v("ï¼‰ï¼Œè¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("a=39\nb = a &lt;&lt; 2\n")])])]),a("p",[t._v("åè¿›åˆ¶ 39 ç”¨ 8 ä½çš„äºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼Œå°±æ˜¯ 00100111ï¼Œå·¦ç§»ä¸¤ä½åæ˜¯ 10011100ï¼ˆä½ä½ç”¨ 0 è¡¥ä¸Šï¼‰ï¼Œå†è½¬æˆåè¿›åˆ¶æ•°å°±æ˜¯ 156ã€‚")]),t._v(" "),a("p",[t._v("ç§»ä½è¿ç®—é€šå¸¸å¯ä»¥ç”¨æ¥ä»£æ›¿ä¹˜æ³•è¿ç®—å’Œé™¤æ³•è¿ç®—ã€‚ä¾‹å¦‚ï¼Œå°† 0010011ï¼ˆ39ï¼‰å·¦ç§»ä¸¤ä½å°±æ˜¯ 10011100ï¼ˆ156ï¼‰ï¼Œåˆšå¥½å˜æˆäº†åŸæ¥çš„ 4 å€ã€‚")]),t._v(" "),a("p",[t._v("å®é™…ä¸Šå‘¢ï¼ŒäºŒè¿›åˆ¶æ•°å·¦ç§»åä¼šå˜æˆåŸæ¥çš„ 2 å€ã€4 å€ã€8 å€ï¼Œè®°ä½è¿™ä¸ªå°±å¥½ã€‚")]),t._v(" "),a("h4",{attrs:{id:"transferæ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transferæ–¹æ³•"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#transfer%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("transferæ–¹æ³•")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œæ¥è¯´ transfer æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ç”¨æ¥è½¬ç§»ï¼Œå°†æ—§çš„å°æ•°ç»„å…ƒç´ æ‹·è´åˆ°æ–°çš„å¤§æ•°ç»„ä¸­ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" rehash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°çš„å®¹é‡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå†å°æ•°ç»„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‹‰é“¾æ³•ï¼Œç›¸åŒ key ä¸Šçš„ä¸åŒå€¼")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®— hash")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rehash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ®å¤§æ•°ç»„çš„å®¹é‡ï¼Œå’Œé”®çš„ hash è®¡ç®—å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexFor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newCapacity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŒä¸€ä½ç½®ä¸Šçš„æ–°å…ƒç´ è¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨")]),t._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¾åœ¨æ–°çš„æ•°ç»„ä¸Š")]),t._v("\n            newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é“¾è¡¨ä¸Šçš„ä¸‹ä¸€ä¸ªå…ƒç´ ")]),t._v("\n            e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªæ–°çš„ Entry æ•°ç»„ newTable å’Œä¸€ä¸ªå¸ƒå°”å€¼ rehash ä½œä¸ºå‚æ•°ï¼Œå…¶ä¸­ newTable è¡¨ç¤ºæ–°çš„å“ˆå¸Œè¡¨ï¼Œrehash è¡¨ç¤ºæ˜¯å¦éœ€è¦é‡æ–°è®¡ç®—é”®çš„å“ˆå¸Œå€¼ã€‚")]),t._v(" "),a("p",[t._v("åœ¨æ–¹æ³•ä¸­ï¼Œé¦–å…ˆè·å–æ–°å“ˆå¸Œè¡¨ï¼ˆæ•°ç»„ï¼‰çš„é•¿åº¦ newCapacityï¼Œç„¶åéå†æ—§å“ˆå¸Œè¡¨ä¸­çš„æ¯ä¸ª Entryã€‚å¯¹äºæ¯ä¸ª Entryï¼Œä½¿ç”¨æ‹‰é“¾æ³•å°†ç›¸åŒ key å€¼çš„ä¸åŒ value å€¼å­˜å‚¨åœ¨åŒä¸€ä¸ªé“¾è¡¨ä¸­ã€‚å¦‚æœ rehash ä¸º trueï¼Œåˆ™éœ€è¦é‡æ–°è®¡ç®—é”®çš„å“ˆå¸Œå€¼ï¼Œå¹¶å°†æ–°çš„å“ˆå¸Œå€¼å­˜å‚¨åœ¨ Entry çš„ hash å±æ€§ä¸­ã€‚")]),t._v(" "),a("p",[t._v("æ¥ç€ï¼Œæ ¹æ®æ–°å“ˆå¸Œè¡¨çš„é•¿åº¦å’Œé”®çš„å“ˆå¸Œå€¼ï¼Œè®¡ç®— Entry åœ¨æ–°æ•°ç»„ä¸­çš„ä½ç½® iï¼Œç„¶åå°†è¯¥ Entry æ·»åŠ åˆ°æ–°æ•°ç»„çš„ i ä½ç½®ä¸Šã€‚ç”±äºæ–°å…ƒç´ éœ€è¦è¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨ï¼Œå› æ­¤å°†æ–°å…ƒç´ çš„ä¸‹ä¸€ä¸ªå…ƒç´ è®¾ç½®ä¸ºå½“å‰æ•°ç»„ä½ç½®ä¸Šçš„å…ƒç´ ã€‚")]),t._v(" "),a("p",[t._v("æœ€åï¼Œéå†å®Œæ—§å“ˆå¸Œè¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ åï¼Œè½¬ç§»å·¥ä½œå®Œæˆï¼Œæ–°çš„å“ˆå¸Œè¡¨ newTable å·²ç»åŒ…å«äº†æ—§å“ˆå¸Œè¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚")]),t._v(" "),a("h4",{attrs:{id:"æ‹‰é“¾æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ‹‰é“¾æ³•"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#%E6%8B%89%E9%93%BE%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("æ‹‰é“¾æ³•")]),t._v(" "),a("p",[t._v("æ³¨æ„ï¼Œ"),a("code",[t._v("e.next = newTable[i]")]),t._v("ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨äº†å•é“¾è¡¨çš„å¤´æ’å…¥æ–¹å¼ï¼ŒåŒä¸€ä½ç½®ä¸Šæ–°å…ƒç´ æ€»ä¼šè¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨ä½ç½®ï¼›è¿™æ ·å…ˆæ”¾åœ¨ä¸€ä¸ªç´¢å¼•ä¸Šçš„å…ƒç´ æœ€ç»ˆä¼šè¢«æ”¾åˆ°é“¾è¡¨çš„å°¾éƒ¨ï¼Œè¿™å°±ä¼šå¯¼è‡´"),a("strong",[t._v("åœ¨æ—§æ•°ç»„ä¸­åŒä¸€ä¸ªé“¾è¡¨ä¸Šçš„å…ƒç´ ï¼Œé€šè¿‡é‡æ–°è®¡ç®—ç´¢å¼•ä½ç½®åï¼Œæœ‰å¯èƒ½è¢«æ”¾åˆ°äº†æ–°æ•°ç»„çš„ä¸åŒä½ç½®ä¸Š")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("å°±è¿™ç‚¹ä¸Šï¼ŒJava 8 åšäº†å¾ˆå¤§çš„ä¼˜åŒ–ï¼ˆä¸‹é¢ä¼šè®²ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("ç°åœ¨å‡è®¾ hash ç®—æ³•å°±æ˜¯ç®€å•çš„ç”¨é”®çš„å“ˆå¸Œå€¼ï¼ˆä¸€ä¸ª int å€¼ï¼‰å’Œæ•°ç»„å¤§å°å–æ¨¡ï¼ˆä¹Ÿå°±æ˜¯ "),a("code",[t._v("hashCode % table.length")]),t._v("ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("ç»§ç»­å‡è®¾ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ•°ç»„ table çš„é•¿åº¦ä¸º 2")]),t._v(" "),a("li",[t._v("é”®çš„å“ˆå¸Œå€¼ä¸º 3ã€7ã€5")])]),t._v(" "),a("p",[t._v("å–æ¨¡è¿ç®—åï¼Œå“ˆå¸Œå†²çªéƒ½åˆ° table[1] ä¸Šäº†ï¼Œå› ä¸ºä½™æ•°ä¸º 1ã€‚é‚£ä¹ˆæ‰©å®¹å‰çš„æ ·å­å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-01.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æ•°ç»„çš„å®¹é‡ä¸º 2ï¼Œ key 3ã€7ã€5 éƒ½åœ¨ table[1] çš„é“¾è¡¨ä¸Šã€‚")]),t._v(" "),a("p",[t._v("å‡è®¾è´Ÿè½½å› å­ï¼ˆåé¢ä¼šç»†è®²ï¼‰ loadFactor ä¸º 1ï¼Œä¹Ÿå°±æ˜¯å½“å…ƒç´ çš„ä¸ªæ•°å¤§äº table çš„é•¿åº¦æ—¶è¿›è¡Œæ‰©å®¹ã€‚")]),t._v(" "),a("p",[t._v("æ‰©å®¹åçš„æ•°ç»„å®¹é‡ä¸º 4ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("key 3 å–æ¨¡ï¼ˆ3%4ï¼‰åæ˜¯ 3ï¼Œæ”¾åœ¨ table[3] ä¸Šã€‚")]),t._v(" "),a("li",[t._v("key 7 å–æ¨¡ï¼ˆ7%4ï¼‰åæ˜¯ 3ï¼Œæ”¾åœ¨ table[3] ä¸Šçš„é“¾è¡¨å¤´éƒ¨ã€‚")]),t._v(" "),a("li",[t._v("key 5 å–æ¨¡ï¼ˆ5%4ï¼‰åæ˜¯ 1ï¼Œæ”¾åœ¨ table[1] ä¸Šã€‚")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-02.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æŒ‰ç…§æˆ‘ä»¬çš„é¢„æœŸï¼Œæ‰©å®¹åçš„ 7 ä»ç„¶åº”è¯¥åœ¨ 3 è¿™æ¡é“¾è¡¨çš„åé¢ï¼Œä½†å®é™…ä¸Šå‘¢ï¼Ÿ 7 è·‘åˆ° 3 è¿™æ¡é“¾è¡¨çš„å¤´éƒ¨äº†ã€‚")]),t._v(" "),a("p",[t._v("é’ˆå¯¹ JDK 7 ä¸­çš„è¿™ä¸ªæƒ…å†µï¼ŒJDK 8 åšäº†å“ªäº›ä¼˜åŒ–å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("çœ‹ä¸‹é¢è¿™å¼ å›¾ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-03.png",alt:"img"}})]),t._v(" "),a("p",[t._v("n ä¸º table çš„é•¿åº¦ï¼Œé»˜è®¤å€¼ä¸º 16ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("n-1 ä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„ 0000 1111ï¼ˆ1X$2^0$+1X$2^1$+1X$2^2$+1X$2^3$=1+2+4+8=15ï¼‰ï¼›")]),t._v(" "),a("li",[t._v("key1 å“ˆå¸Œå€¼çš„æœ€å 8 ä½ä¸º 0000 0101")]),t._v(" "),a("li",[t._v("key2 å“ˆå¸Œå€¼çš„æœ€å 8 ä½ä¸º 0001 0101ï¼ˆå’Œ key1 ä¸åŒï¼‰")]),t._v(" "),a("li",[t._v("åšä¸è¿ç®—åå‘ç”Ÿäº†å“ˆå¸Œå†²çªï¼Œç´¢å¼•éƒ½åœ¨ï¼ˆ0000 0101ï¼‰ä¸Šã€‚")])]),t._v(" "),a("p",[t._v("æ‰©å®¹åä¸º 32ã€‚")]),t._v(" "),a("ul",[a("li",[t._v("n-1 ä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„ 0001 1111ï¼ˆ1X$2^0$+1X$2^1$+1X$2^2$+1X$2^3$+1X$2^4$=1+2+4+8+16=31ï¼‰ï¼Œæ‰©å®¹å‰æ˜¯ 0000 1111ã€‚")]),t._v(" "),a("li",[t._v("key1 å“ˆå¸Œå€¼çš„ä½ä½ä¸º 0000 0101")]),t._v(" "),a("li",[t._v("key2 å“ˆå¸Œå€¼çš„ä½ä½ä¸º 0001 0101ï¼ˆå’Œ key1 ä¸åŒï¼‰")]),t._v(" "),a("li",[t._v("key1 åšä¸è¿ç®—åï¼Œç´¢å¼•ä¸º 0000 0101ã€‚")]),t._v(" "),a("li",[t._v("key2 åšä¸è¿ç®—åï¼Œç´¢å¼•ä¸º 0001 0101ã€‚")])]),t._v(" "),a("p",[t._v("æ–°çš„ç´¢å¼•å°±ä¼šå‘ç”Ÿè¿™æ ·çš„å˜åŒ–ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åŸæ¥çš„ç´¢å¼•æ˜¯ 5ï¼ˆ"),a("em",[t._v("0")]),t._v(" 0101ï¼‰")]),t._v(" "),a("li",[t._v("åŸæ¥çš„å®¹é‡æ˜¯ 16")]),t._v(" "),a("li",[t._v("æ‰©å®¹åçš„å®¹é‡æ˜¯ 32")]),t._v(" "),a("li",[t._v("æ‰©å®¹åçš„ç´¢å¼•æ˜¯ 21ï¼ˆ"),a("em",[t._v("1")]),t._v(" 0101ï¼‰ï¼Œä¹Ÿå°±æ˜¯ 5+16ï¼Œä¹Ÿå°±æ˜¯åŸæ¥çš„ç´¢å¼•+åŸæ¥çš„å®¹é‡")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-04.png",alt:"img"}})]),t._v(" "),a("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ï¼ŒJDK 8 ä¸éœ€è¦åƒ JDK 7 é‚£æ ·é‡æ–°è®¡ç®— hashï¼Œåªéœ€è¦çœ‹åŸæ¥çš„hashå€¼æ–°å¢çš„é‚£ä¸ªbitæ˜¯1è¿˜æ˜¯0å°±å¥½äº†ï¼Œæ˜¯0çš„è¯å°±è¡¨ç¤ºç´¢å¼•æ²¡å˜ï¼Œæ˜¯1çš„è¯ï¼Œç´¢å¼•å°±å˜æˆäº†â€œåŸç´¢å¼•+åŸæ¥çš„å®¹é‡â€ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-resize-05.png",alt:"img"}})]),t._v(" "),a("p",[t._v("JDK 8 çš„è¿™ä¸ªè®¾è®¡éå¸¸å·§å¦™ï¼Œæ—¢çœå»äº†é‡æ–°è®¡ç®—hashçš„æ—¶é—´ï¼ŒåŒæ—¶ï¼Œç”±äºæ–°å¢çš„1 bitæ˜¯0è¿˜æ˜¯1æ˜¯éšæœºçš„ï¼Œå› æ­¤æ‰©å®¹çš„è¿‡ç¨‹ï¼Œå¯ä»¥å‡åŒ€åœ°æŠŠä¹‹å‰çš„èŠ‚ç‚¹åˆ†æ•£åˆ°æ–°çš„ä½ç½®ä¸Šã€‚")]),t._v(" "),a("p",[t._v("wocï¼Œåªèƒ½è¯´ HashMap çš„ä½œè€… Doug Leaã€Josh Blochã€Arthur van Hoffã€Neal Gafter çœŸçš„å¼ºâ€”â€”çš„ä¸€ç¬”ã€‚")]),t._v(" "),a("h4",{attrs:{id:"java-8-æ‰©å®¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java-8-æ‰©å®¹"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#java-8-%E6%89%A9%E5%AE%B9",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("Java 8 æ‰©å®¹")]),t._v(" "),a("p",[t._v("JDK 8 çš„æ‰©å®¹æºä»£ç ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" oldTab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–åŸæ¥çš„æ•°ç»„ table")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldTab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" oldTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–æ•°ç»„é•¿åº¦ oldCap")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" oldThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threshold"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è·å–é˜ˆå€¼ oldThr")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" newCap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœåŸæ¥çš„æ•°ç»„ table ä¸ä¸ºç©º")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¶…è¿‡æœ€å¤§å€¼å°±ä¸å†æ‰©å……äº†ï¼Œå°±åªå¥½éšä½ ç¢°æ’å»å§")]),t._v("\n            threshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAX_VALUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" oldTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡è¶…è¿‡æœ€å¤§å€¼ï¼Œå°±æ‰©å……ä¸ºåŸæ¥çš„2å€")]),t._v("\n                 oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// double threshold")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// initial capacity was placed in threshold")]),t._v("\n        newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldThr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// zero initial threshold signifies using defaults")]),t._v("\n        newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_LOAD_FACTOR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—æ–°çš„ resize ä¸Šé™")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" ft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" loadFactor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" ft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("ft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAX_VALUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    threshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newThr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†æ–°é˜ˆå€¼èµ‹å€¼ç»™æˆå‘˜å˜é‡ threshold")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SuppressWarnings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rawtypes"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unchecked"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" newTab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("newCap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºæ–°æ•°ç»„ newTab")]),t._v("\n    table "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†æ–°æ•°ç»„ newTab èµ‹å€¼ç»™æˆå‘˜å˜é‡ table")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldTab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ—§æ•°ç»„ oldTab ä¸ä¸ºç©º")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" oldCap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå†æ—§æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœè¯¥å…ƒç´ ä¸ä¸ºç©º")]),t._v("\n                oldTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†æ—§æ•°ç»„ä¸­è¯¥ä½ç½®çš„å…ƒç´ ç½®ä¸º nullï¼Œä»¥ä¾¿åƒåœ¾å›æ”¶")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœè¯¥å…ƒç´ æ²¡æœ‰å†²çª")]),t._v("\n                    newTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç›´æ¥å°†è¯¥å…ƒç´ æ”¾å…¥æ–°æ•°ç»„")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TreeNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœè¯¥å…ƒç´ æ˜¯æ ‘èŠ‚ç‚¹")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TreeNode")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldCap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†è¯¥æ ‘èŠ‚ç‚¹åˆ†è£‚æˆä¸¤ä¸ªé“¾è¡¨")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœè¯¥å…ƒç´ æ˜¯é“¾è¡¨")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" loHead "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" loTail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä½ä½é“¾è¡¨çš„å¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" hiHead "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hiTail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é«˜ä½é“¾è¡¨çš„å¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå†è¯¥é“¾è¡¨")]),t._v("\n                        next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" oldCap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœè¯¥å…ƒç´ åœ¨ä½ä½é“¾è¡¨ä¸­")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loTail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœä½ä½é“¾è¡¨è¿˜æ²¡æœ‰ç»“ç‚¹")]),t._v("\n                                loHead "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†è¯¥å…ƒç´ ä½œä¸ºä½ä½é“¾è¡¨çš„å¤´ç»“ç‚¹")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n                                loTail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœä½ä½é“¾è¡¨å·²ç»æœ‰ç»“ç‚¹ï¼Œå°†è¯¥å…ƒç´ åŠ å…¥ä½ä½é“¾è¡¨çš„å°¾éƒ¨")]),t._v("\n                            loTail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ–°ä½ä½é“¾è¡¨çš„å°¾ç»“ç‚¹")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœè¯¥å…ƒç´ åœ¨é«˜ä½é“¾è¡¨ä¸­")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hiTail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœé«˜ä½é“¾è¡¨è¿˜æ²¡æœ‰ç»“ç‚¹")]),t._v("\n                                hiHead "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†è¯¥å…ƒç´ ä½œä¸ºé«˜ä½é“¾è¡¨çš„å¤´ç»“ç‚¹")]),t._v("\n                            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n                                hiTail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœé«˜ä½é“¾è¡¨å·²ç»æœ‰ç»“ç‚¹ï¼Œå°†è¯¥å…ƒç´ åŠ å…¥é«˜ä½é“¾è¡¨çš„å°¾éƒ¨")]),t._v("\n                            hiTail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ›´æ–°é«˜ä½é“¾è¡¨çš„å°¾ç»“ç‚¹")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("loTail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœä½ä½é“¾è¡¨ä¸ä¸ºç©º")]),t._v("\n                        loTail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†ä½ä½é“¾è¡¨çš„å°¾ç»“ç‚¹æŒ‡å‘ nullï¼Œä»¥ä¾¿åƒåœ¾å›æ”¶")]),t._v("\n                        newTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" loHead"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†ä½ä½é“¾è¡¨ä½œä¸ºæ–°æ•°ç»„å¯¹åº”ä½ç½®çš„å…ƒç´ ")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hiTail "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœé«˜ä½é“¾è¡¨ä¸ä¸ºç©º")]),t._v("\n                        hiTail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†é«˜ä½é“¾è¡¨çš„å°¾ç»“ç‚¹æŒ‡å‘ nullï¼Œä»¥ä¾¿åƒåœ¾å›æ”¶")]),t._v("\n                        newTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("j "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" oldCap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" hiHead"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°†é«˜ä½é“¾è¡¨ä½œä¸ºæ–°æ•°ç»„å¯¹åº”ä½ç½®çš„å…ƒç´ ")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" newTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¿”å›æ–°æ•°ç»„")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("1ã€è·å–åŸæ¥çš„æ•°ç»„ tableã€æ•°ç»„é•¿åº¦ oldCap å’Œé˜ˆå€¼ oldThrã€‚")]),t._v(" "),a("p",[t._v("2ã€å¦‚æœåŸæ¥çš„æ•°ç»„ table ä¸ä¸ºç©ºï¼Œåˆ™æ ¹æ®æ‰©å®¹è§„åˆ™è®¡ç®—æ–°æ•°ç»„é•¿åº¦ newCap å’Œæ–°é˜ˆå€¼ newThrï¼Œç„¶åå°†åŸæ•°ç»„ä¸­çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚")]),t._v(" "),a("p",[t._v("3ã€å¦‚æœåŸæ¥çš„æ•°ç»„ table ä¸ºç©ºä½†é˜ˆå€¼ oldThr ä¸ä¸ºé›¶ï¼Œåˆ™è¯´æ˜æ˜¯é€šè¿‡å¸¦å‚æ•°æ„é€ å‡½æ•°åˆ›å»ºçš„ HashMapï¼Œæ­¤æ—¶å°†é˜ˆå€¼ä½œä¸ºæ–°æ•°ç»„é•¿åº¦ newCapã€‚")]),t._v(" "),a("p",[t._v("4ã€å¦‚æœåŸæ¥çš„æ•°ç»„ table å’Œé˜ˆå€¼ oldThr éƒ½ä¸ºé›¶ï¼Œåˆ™è¯´æ˜æ˜¯é€šè¿‡æ— å‚æ•°æ„é€ å‡½æ•°åˆ›å»ºçš„ HashMapï¼Œæ­¤æ—¶å°†é»˜è®¤åˆå§‹å®¹é‡ DEFAULT_INITIAL_CAPACITYï¼ˆ16ï¼‰å’Œé»˜è®¤è´Ÿè½½å› å­ DEFAULT_LOAD_FACTORï¼ˆ0.75ï¼‰è®¡ç®—å‡ºæ–°æ•°ç»„é•¿åº¦ newCap å’Œæ–°é˜ˆå€¼ newThrã€‚")]),t._v(" "),a("p",[t._v("5ã€è®¡ç®—æ–°é˜ˆå€¼ thresholdï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™æˆå‘˜å˜é‡ thresholdã€‚")]),t._v(" "),a("p",[t._v("6ã€åˆ›å»ºæ–°æ•°ç»„ newTabï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™æˆå‘˜å˜é‡ tableã€‚")]),t._v(" "),a("p",[t._v("7ã€å¦‚æœæ—§æ•°ç»„ oldTab ä¸ä¸ºç©ºï¼Œåˆ™éå†æ—§æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œå°†å…¶å¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ã€‚")]),t._v(" "),a("p",[t._v("8ã€è¿”å›æ–°æ•°ç»„ newTabã€‚")]),t._v(" "),a("h4",{attrs:{id:"å°ç»“-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“-2"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#%E5%B0%8F%E7%BB%93-1",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("å°ç»“")]),t._v(" "),a("p",[t._v("HashMap çš„å†…éƒ¨å®ç°æ˜¯é€šè¿‡ä¸€ä¸ªæ•°ç»„å’Œé“¾è¡¨æˆ–çº¢é»‘æ ‘çš„ç»„åˆæ¥å®ç°çš„ã€‚å½“æˆ‘ä»¬å¾€ HashMap ä¸­ä¸æ–­æ·»åŠ å…ƒç´ æ—¶ï¼ŒHashMap ä¼šè‡ªåŠ¨è¿›è¡Œæ‰©å®¹æ“ä½œï¼ˆæ¡ä»¶æ˜¯å…ƒç´ æ•°é‡è¾¾åˆ°è´Ÿè½½å› å­ï¼ˆload factorï¼‰ä¹˜ä»¥æ•°ç»„é•¿åº¦æ—¶ï¼‰ï¼Œä»¥ä¿è¯å…¶å­˜å‚¨çš„å…ƒç´ æ•°é‡ä¸ä¼šè¶…å‡ºå…¶å®¹é‡é™åˆ¶ã€‚ä¸‹é¢æ˜¯ HashMap çš„æ‰©å®¹æœºåˆ¶ï¼š")]),t._v(" "),a("p",[t._v("1ã€åœ¨è¿›è¡Œæ‰©å®¹æ“ä½œæ—¶ï¼ŒHashMap ä¼šå…ˆå°†æ•°ç»„çš„é•¿åº¦æ‰©å¤§ä¸€å€ï¼Œç„¶åå°†åŸæ¥çš„å…ƒç´ é‡æ–°æ•£åˆ—ï¼ˆè¿™ä¸ªè¯è¿˜æ˜¯æŒºè´´åˆ‡çš„ï¼‰åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚ç”±äºå…ƒç´ çš„æ•£åˆ—ä½ç½®æ˜¯é€šè¿‡ key çš„ hashcode å’Œæ•°ç»„é•¿åº¦å–æ¨¡å¾—åˆ°çš„ï¼Œå› æ­¤åœ¨æ•°ç»„é•¿åº¦æ‰©å¤§åï¼Œå…ƒç´ çš„æ•£åˆ—ä½ç½®ä¹Ÿä¼šå‘ç”Ÿä¸€äº›æ”¹å˜ã€‚")]),t._v(" "),a("p",[t._v("2ã€åœ¨é‡æ–°æ•£åˆ—å…ƒç´ æ—¶ï¼Œå¦‚æœä¸€ä¸ªå…ƒç´ çš„æ•£åˆ—ä½ç½®å‘ç”Ÿäº†æ”¹å˜ï¼Œé‚£ä¹ˆå®ƒéœ€è¦è¢«ç§»åŠ¨åˆ°æ–°çš„ä½ç½®ã€‚å¦‚æœæ–°çš„ä½ç½®ä¸Šå·²ç»æœ‰å…ƒç´ äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå…ƒç´ å°±ä¼šè¢«æ·»åŠ åˆ°é“¾è¡¨çš„æœ«å°¾ï¼Œå¦‚æœé“¾è¡¨çš„é•¿åº¦è¶…è¿‡äº†é˜ˆå€¼ï¼ˆ8ä¸ªï¼‰ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šè¢«è½¬æ¢æˆçº¢é»‘æ ‘ã€‚")]),t._v(" "),a("p",[t._v("æ€»ä¹‹ï¼ŒHashMap çš„æ‰©å®¹æœºåˆ¶æ˜¯é€šè¿‡å¢åŠ æ•°ç»„é•¿åº¦å’Œé‡æ–°æ•£åˆ—å…ƒç´ æ¥å®ç°çš„ï¼Œå®ƒå¯ä»¥ä¿è¯ HashMap çš„å­˜å‚¨å®¹é‡è¶³å¤Ÿå¤§ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä¿è¯ HashMap çš„å­˜å‚¨æ•ˆç‡å’Œæ£€ç´¢æ•ˆç‡ã€‚ä½†æ˜¯ï¼Œç”±äºæ‰©å®¹æ“ä½œéœ€è¦è€—è´¹ä¸€å®šçš„æ—¶é—´å’Œç©ºé—´ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨ä½¿ç”¨ HashMap æ—¶ï¼Œåˆç†åœ°è®¾ç½®åˆå§‹å®¹é‡å’Œè´Ÿè½½å› å­ï¼Œä»¥é¿å…è¿‡å¤šçš„æ‰©å®¹æ“ä½œã€‚")]),t._v(" "),a("h3",{attrs:{id:"_03ã€åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯0-75"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_03ã€åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯0-75"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_03%E3%80%81%E5%8A%A0%E8%BD%BD%E5%9B%A0%E5%AD%90%E4%B8%BA%E4%BB%80%E4%B9%88%E6%98%AF0-75",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("03ã€åŠ è½½å› å­ä¸ºä»€ä¹ˆæ˜¯0.75")]),t._v(" "),a("p",[t._v("ä¸Šä¸€ä¸ªé—®é¢˜æåˆ°äº†åŠ è½½å› å­ï¼ˆæˆ–è€…å«è´Ÿè½½å› å­ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªé—®é¢˜æˆ‘ä»¬æ¥è®¨è®ºä¸ºä»€ä¹ˆåŠ è½½å› å­æ˜¯ 0.75 è€Œä¸æ˜¯ 0.6ã€0.8ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çŸ¥é“ï¼ŒHashMap æ˜¯ç”¨æ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘å®ç°çš„ï¼Œæˆ‘ä»¬è¦æƒ³å¾€ HashMap ä¸­æ·»åŠ æ•°æ®ï¼ˆå…ƒç´ /é”®å€¼å¯¹ï¼‰æˆ–è€…å–æ•°æ®ï¼Œå°±éœ€è¦ç¡®å®šæ•°æ®åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼ˆç´¢å¼•ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("å…ˆæŠŠæ•°æ®çš„é”®è¿›è¡Œä¸€æ¬¡ hashï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" h"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hashCode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("h "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å†åšä¸€æ¬¡å–æ¨¡è¿ç®—ç¡®å®šä¸‹æ ‡ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" hash\n")])])]),a("p",[t._v("é‚£è¿™æ ·çš„è¿‡ç¨‹å®¹æ˜“äº§ç”Ÿä¸¤ä¸ªé—®é¢˜ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("æ•°ç»„çš„å®¹é‡è¿‡å°ï¼Œç»è¿‡å“ˆå¸Œè®¡ç®—åçš„ä¸‹æ ‡ï¼Œå®¹æ˜“å‡ºç°å†²çªï¼›")]),t._v(" "),a("li",[t._v("æ•°ç»„çš„å®¹é‡è¿‡å¤§ï¼Œå¯¼è‡´ç©ºé—´åˆ©ç”¨ç‡ä¸é«˜ã€‚")])]),t._v(" "),a("p",[t._v("åŠ è½½å› å­æ˜¯ç”¨æ¥è¡¨ç¤º HashMap ä¸­æ•°æ®çš„å¡«æ»¡ç¨‹åº¦ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("åŠ è½½å› å­ = å¡«å…¥å“ˆå¸Œè¡¨ä¸­çš„æ•°æ®ä¸ªæ•° / å“ˆå¸Œè¡¨çš„é•¿åº¦")])]),t._v(" "),a("p",[t._v("è¿™å°±æ„å‘³ç€ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("åŠ è½½å› å­è¶Šå°ï¼Œå¡«æ»¡çš„æ•°æ®å°±è¶Šå°‘ï¼Œå“ˆå¸Œå†²çªçš„å‡ ç‡å°±å‡å°‘äº†ï¼Œä½†æµªè´¹äº†ç©ºé—´ï¼Œè€Œä¸”è¿˜ä¼šæé«˜æ‰©å®¹çš„è§¦å‘å‡ ç‡ï¼›")]),t._v(" "),a("li",[t._v("åŠ è½½å› å­è¶Šå¤§ï¼Œå¡«æ»¡çš„æ•°æ®å°±è¶Šå¤šï¼Œç©ºé—´åˆ©ç”¨ç‡å°±é«˜ï¼Œä½†å“ˆå¸Œå†²çªçš„å‡ ç‡å°±å˜å¤§äº†ã€‚")])]),t._v(" "),a("p",[t._v("å¥½éš¾ï¼ï¼ï¼ï¼")]),t._v(" "),a("p",[t._v("è¿™å°±å¿…é¡»åœ¨â€œ"),a("strong",[t._v("å“ˆå¸Œå†²çª")]),t._v("â€ä¸â€œ"),a("strong",[t._v("ç©ºé—´åˆ©ç”¨ç‡")]),t._v("â€ä¸¤è€…ä¹‹é—´æœ‰æ‰€å–èˆï¼Œå°½é‡ä¿æŒå¹³è¡¡ï¼Œè°ä¹Ÿä¸ç¢ç€è°ã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬çŸ¥é“ï¼ŒHashMap æ˜¯é€šè¿‡æ‹‰é“¾æ³•æ¥è§£å†³å“ˆå¸Œå†²çªçš„ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºäº†å‡å°‘å“ˆå¸Œå†²çªå‘ç”Ÿçš„æ¦‚ç‡ï¼Œå½“ HashMap çš„æ•°ç»„é•¿åº¦è¾¾åˆ°ä¸€ä¸ª"),a("strong",[t._v("ä¸´ç•Œå€¼")]),t._v("çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘æ‰©å®¹ï¼Œæ‰©å®¹åä¼šå°†ä¹‹å‰å°æ•°ç»„ä¸­çš„å…ƒç´ è½¬ç§»åˆ°å¤§æ•°ç»„ä¸­ï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å½“è€—æ—¶çš„æ“ä½œã€‚")]),t._v(" "),a("p",[t._v("è¿™ä¸ªä¸´ç•Œå€¼ç”±ä»€ä¹ˆæ¥ç¡®å®šå‘¢ï¼Ÿ")]),t._v(" "),a("blockquote",[a("p",[t._v("ä¸´ç•Œå€¼ = åˆå§‹å®¹é‡ * åŠ è½½å› å­")])]),t._v(" "),a("p",[t._v("ä¸€å¼€å§‹ï¼ŒHashMap çš„å®¹é‡æ˜¯ 16ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// aka 16")]),t._v("\n")])])]),a("p",[t._v("åŠ è½½å› å­æ˜¯ 0.75ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_LOAD_FACTOR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.75f")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ 16*0.75=12 æ—¶ï¼Œä¼šè§¦å‘æ‰©å®¹æœºåˆ¶ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ä¸ºä»€ä¹ˆåŠ è½½å› å­ä¼šé€‰æ‹© 0.75 å‘¢ï¼Ÿä¸ºä»€ä¹ˆä¸æ˜¯0.8ã€0.6å‘¢")]),t._v("ï¼Ÿ")]),t._v(" "),a("p",[t._v("è¿™è·Ÿç»Ÿè®¡å­¦é‡Œçš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŸç†â€”â€”æ³Šæ¾åˆ†å¸ƒæœ‰å…³ã€‚")]),t._v(" "),a("p",[t._v("æ˜¯æ—¶å€™ä¸Šç»´åŸºç™¾ç§‘äº†ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("æ³Šæ¾åˆ†å¸ƒï¼Œæ˜¯ä¸€ç§ç»Ÿè®¡ä¸æ¦‚ç‡å­¦é‡Œå¸¸è§åˆ°çš„ç¦»æ•£æ¦‚ç‡åˆ†å¸ƒï¼Œç”±æ³•å›½æ•°å­¦å®¶è¥¿è«æ©Â·å¾·å°¼Â·æ³Šæ¾åœ¨1838å¹´æ—¶æå‡ºã€‚å®ƒä¼šå¯¹éšæœºäº‹ä»¶çš„å‘ç”Ÿæ¬¡æ•°è¿›è¡Œå»ºæ¨¡ï¼Œé€‚ç”¨äºæ¶‰åŠè®¡ç®—åœ¨ç»™å®šçš„æ—¶é—´æ®µã€è·ç¦»ã€é¢ç§¯ç­‰èŒƒå›´å†…å‘ç”Ÿéšæœºäº‹ä»¶çš„æ¬¡æ•°çš„åº”ç”¨æƒ…å½¢ã€‚")])]),t._v(" "),a("p",[t._v("é˜®ä¸€å³°è€å¸ˆæ›¾åœ¨ä¸€ç¯‡åšæ–‡ä¸­è¯¦ç»†çš„ä»‹ç»äº†æ³Šæ¾åˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒï¼Œå¤§å®¶å¯ä»¥å»çœ‹ä¸€ä¸‹ã€‚")]),t._v(" "),a("blockquote",[a("p",[t._v("é“¾æ¥ï¼š"),a("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2015/06/poisson-distribution.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.ruanyifeng.com/blog/2015/06/poisson-distribution.htmlopen in new window"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("å…·ä½“æ˜¯ç”¨è¿™ä¹ˆä¸€ä¸ªå…¬å¼æ¥è¡¨ç¤ºçš„ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-01.png",alt:"img"}})]),t._v(" "),a("p",[t._v("ç­‰å·çš„å·¦è¾¹ï¼ŒP è¡¨ç¤ºæ¦‚ç‡ï¼ŒNè¡¨ç¤ºæŸç§å‡½æ•°å…³ç³»ï¼Œt è¡¨ç¤ºæ—¶é—´ï¼Œn è¡¨ç¤ºæ•°é‡ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ HashMap çš„ doc æ–‡æ¡£é‡Œï¼Œæ›¾æœ‰è¿™ä¹ˆä¸€æ®µæè¿°ï¼š")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Because TreeNodes are about twice the size of regular nodes, we\nuse them only when bins contain enough nodes to warrant use\n(see TREEIFY_THRESHOLD). And when they become too small (due to\nremoval or resizing) they are converted back to plain bins.  In\nusages with well-distributed user hashCodes, tree bins are\nrarely used.  Ideally, under random hashCodes, the frequency of\nnodes in bins follows a Poisson distribution\n(http://en.wikipedia.org/wiki/Poisson_distribution) with a\nparameter of about 0.5 on average for the default resizing\nthreshold of 0.75, although with a large variance because of\nresizing granularity. Ignoring variance, the expected\noccurrences of list size k are (exp(-0.5) * pow(0.5, k) /\nfactorial(k)). The first values are:\n0:    0.60653066\n1:    0.30326533\n2:    0.07581633\n3:    0.01263606\n4:    0.00157952\n5:    0.00015795\n6:    0.00001316\n7:    0.00000094\n8:    0.00000006\nmore: less than 1 in ten million\n")])])]),a("p",[t._v("ä¸ºäº†ä¾¿äºå¤§å®¶çš„ç†è§£ï¼Œè¿™é‡Œæ¥é‡æ¸©ä¸€ä¸‹ HashMap çš„æ‹‰é“¾æ³•å’Œçº¢é»‘æ ‘ç»“æ„ã€‚")]),t._v(" "),a("p",[t._v("Java 8 ä¹‹å‰ï¼ŒHashMap ä½¿ç”¨é“¾è¡¨æ¥è§£å†³å†²çªï¼Œå³å½“ä¸¤ä¸ªæˆ–è€…å¤šä¸ªé”®æ˜ å°„åˆ°åŒä¸€ä¸ªæ¡¶æ—¶ï¼Œå®ƒä»¬è¢«æ”¾åœ¨åŒä¸€ä¸ªæ¡¶çš„é“¾è¡¨ä¸Šã€‚å½“é“¾è¡¨ä¸Šçš„èŠ‚ç‚¹ï¼ˆNodeï¼‰è¿‡å¤šæ—¶ï¼Œé“¾è¡¨ä¼šå˜å¾—å¾ˆé•¿ï¼ŒæŸ¥æ‰¾çš„æ•ˆç‡ï¼ˆ"),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/linkedlist.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("LinkedListopen in new window"),a("OutboundLink")],1),t._v(" çš„æŸ¥æ‰¾æ•ˆç‡ä¸º Oï¼ˆnï¼‰ï¼‰å°±ä¼šå—åˆ°å½±å“ã€‚")]),t._v(" "),a("p",[t._v("Java 8 ä¸­ï¼Œå½“é“¾è¡¨çš„èŠ‚ç‚¹æ•°è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼ï¼ˆ8ï¼‰æ—¶ï¼Œé“¾è¡¨å°†è½¬ä¸ºçº¢é»‘æ ‘ï¼ˆèŠ‚ç‚¹ä¸ºTreeNodeï¼‰ï¼Œçº¢é»‘æ ‘ï¼ˆåœ¨è®²"),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/treemap.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("TreeMapopen in new window"),a("OutboundLink")],1),t._v("æ—¶ä¼šç»†è¯´ï¼‰æ˜¯ä¸€ç§é«˜æ•ˆçš„å¹³è¡¡æ ‘ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨ O(log n) çš„æ—¶é—´å†…å®Œæˆæ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾ç­‰æ“ä½œã€‚è¿™ç§ç»“æ„åœ¨èŠ‚ç‚¹æ•°å¾ˆå¤šæ—¶ï¼Œå¯ä»¥æé«˜ HashMap çš„æ€§èƒ½å’Œå¯ä¼¸ç¼©æ€§ã€‚")]),t._v(" "),a("p",[t._v("å¥½ï¼Œæœ‰äº†è¿™ä¸ªèƒŒæ™¯ï¼Œæˆ‘ä»¬æ¥æŠŠä¸Šé¢çš„ doc æ–‡æ¡£ç¿»è¯‘ä¸ºä¸­æ–‡ï¼š")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("å› ä¸ºTreeNodeï¼ˆçº¢é»‘æ ‘çš„èŠ‚ç‚¹ï¼‰çš„å¤§å°å¤§çº¦æ˜¯å¸¸è§„èŠ‚ç‚¹ï¼ˆé“¾è¡¨çš„èŠ‚ç‚¹ Nodeï¼‰çš„ä¸¤å€ï¼Œæ‰€ä»¥åªæœ‰å½“æ¡¶å†…åŒ…å«è¶³å¤Ÿå¤šçš„èŠ‚ç‚¹æ—¶æ‰ä½¿ç”¨çº¢é»‘æ ‘ï¼ˆå‚è§TREEIFY_THRESHOLDã€Œé˜ˆå€¼ï¼Œå€¼ä¸º8ã€ï¼ŒèŠ‚ç‚¹æ•°é‡è¾ƒå¤šæ—¶ï¼Œçº¢é»‘æ ‘å¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰ã€‚\n\nç”±äºåˆ é™¤å…ƒç´ æˆ–è€…è°ƒæ•´æ•°ç»„å¤§å°ï¼ˆæ‰©å®¹ï¼‰æ—¶ï¼ˆå†æ¬¡æ•£åˆ—ï¼‰ï¼Œçº¢é»‘æ ‘å¯èƒ½ä¼šè¢«è½¬æ¢ä¸ºé“¾è¡¨ï¼ˆèŠ‚ç‚¹æ•°é‡å°äº 8 æ—¶ï¼‰ï¼ŒèŠ‚ç‚¹æ•°é‡è¾ƒå°‘æ—¶ï¼Œé“¾è¡¨çš„æ•ˆç‡æ¯”çº¢é»‘æ ‘æ›´é«˜ï¼Œå› ä¸ºçº¢é»‘æ ‘éœ€è¦æ›´å¤šçš„å†…å­˜ç©ºé—´æ¥å­˜å‚¨èŠ‚ç‚¹ã€‚\n\nåœ¨å…·æœ‰è‰¯å¥½åˆ†å¸ƒçš„hashCodeä½¿ç”¨ä¸­ï¼Œå¾ˆå°‘ä½¿ç”¨çº¢é»‘æ ‘ã€‚\n\nç†æƒ³æƒ…å†µä¸‹ï¼Œåœ¨éšæœºhashCodeä¸‹ï¼ŒèŠ‚ç‚¹åœ¨æ¡¶ä¸­çš„é¢‘ç‡éµå¾ªæ³Šæ¾åˆ†å¸ƒï¼ˆhttps://zh.wikipedia.org/wiki/åœç“¦æ¾åˆ†å¸ƒï¼‰ï¼Œå¹³å‡ç¼©æ”¾é˜ˆå€¼ä¸º0.75ï¼Œå¿½ç•¥æ–¹å·®ï¼Œåˆ—è¡¨å¤§å°kçš„é¢„æœŸå‡ºç°æ¬¡æ•°ä¸ºï¼ˆexpï¼ˆ-0.5ï¼‰* powï¼ˆ0.5ï¼Œkï¼‰/ factorialï¼ˆkï¼‰ï¼‰ã€‚\n\nå‰å‡ ä¸ªå€¼æ˜¯ï¼š\n0: 0.60653066\n1: 0.30326533\n2: 0.07581633\n3: 0.01263606\n4: 0.00157952\n5: 0.00015795\n6: 0.00001316\n7: 0.00000094\n8: 0.00000006\n\næ›´å¤šï¼šå°äºä¸€åƒä¸‡åˆ†ä¹‹ä¸€\n")])])]),a("p",[t._v("è™½ç„¶è¿™æ®µè¯çš„æœ¬æ„æ›´å¤šçš„æ˜¯è¡¨ç¤º jdk 8ä¸­ä¸ºä»€ä¹ˆæ‹‰é“¾é•¿åº¦è¶…è¿‡8çš„æ—¶å€™è¿›è¡Œäº†çº¢é»‘æ ‘è½¬æ¢ï¼Œä½†æåˆ°äº† 0.75 è¿™ä¸ªåŠ è½½å› å­ï¼Œä½†æ²¡æåˆ°åº•ä¸ºä»€ä¹ˆã€‚")]),t._v(" "),a("p",[t._v("ä¸ºäº†ææ¸…æ¥šåˆ°åº•ä¸ºä»€ä¹ˆï¼Œæˆ‘çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼š")]),t._v(" "),a("blockquote",[a("p",[t._v("å‚è€ƒé“¾æ¥ï¼š"),a("a",{attrs:{href:"https://segmentfault.com/a/1190000023308658",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://segmentfault.com/a/1190000023308658open in new window"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("é‡Œé¢æåˆ°äº†ä¸€ä¸ªæ¦‚å¿µï¼š"),a("strong",[t._v("äºŒé¡¹åˆ†å¸ƒï¼ˆBinomial Distributionï¼‰")]),t._v("ã€‚")]),t._v(" "),a("p",[t._v("åœ¨åšä¸€ä»¶äº‹æƒ…çš„æ—¶å€™ï¼Œå…¶ç»“æœçš„æ¦‚ç‡åªæœ‰2ç§æƒ…å†µï¼Œå’ŒæŠ›ç¡¬å¸ä¸€æ ·ï¼Œä¸æ˜¯æ­£é¢å°±æ˜¯åé¢ã€‚")]),t._v(" "),a("p",[t._v("å‡å¦‚ï¼Œæˆ‘ä»¬åšäº† N æ¬¡å®éªŒï¼Œé‚£ä¹ˆåœ¨æ¯æ¬¡è¯•éªŒä¸­åªæœ‰ä¸¤ç§å¯èƒ½çš„ç»“æœï¼Œå¹¶ä¸”æ¯æ¬¡å®éªŒæ˜¯ç‹¬ç«‹çš„ï¼Œä¸åŒå®éªŒä¹‹é—´äº’ä¸å½±å“ï¼Œæ¯æ¬¡å®éªŒæˆåŠŸçš„æ¦‚ç‡éƒ½æ˜¯ä¸€æ ·çš„ã€‚")]),t._v(" "),a("p",[t._v("ä»¥æ­¤ç†è®ºä¸ºåŸºç¡€ï¼šæˆ‘ä»¬å¾€å“ˆå¸Œè¡¨ä¸­æ‰”æ•°æ®ï¼Œå¦‚æœå‘ç”Ÿå“ˆå¸Œå†²çªå°±ä¸ºå¤±è´¥ï¼Œå¦åˆ™ä¸ºæˆåŠŸã€‚")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å¯ä»¥è®¾æƒ³ï¼Œå®éªŒçš„hashå€¼æ˜¯éšæœºçš„ï¼Œå¹¶ä¸”ç»è¿‡hashè¿ç®—çš„é”®éƒ½ä¼šæ˜ å°„åˆ°hashè¡¨çš„åœ°å€ç©ºé—´ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªç»“æœä¹Ÿæ˜¯éšæœºçš„ã€‚æ‰€ä»¥ï¼Œæ¯æ¬¡putçš„æ—¶å€™å°±ç›¸å½“äºæˆ‘ä»¬åœ¨æ‰”ä¸€ä¸ª16é¢ï¼ˆHashMap ç¬¬ä¸€æ¬¡æ‰©å®¹åçš„æ•°ç»„é»˜è®¤é•¿åº¦ä¸º16ï¼‰çš„éª°å­ï¼Œæ‰”éª°å­å®éªŒé‚£è‚¯å®šæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚ç¢°æ’å‘ç”Ÿå³æ‰”äº†næ¬¡æœ‰å‡ºç°é‡å¤æ•°å­—ã€‚")]),t._v(" "),a("p",[t._v("ç„¶åï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯å•¥å‘¢ï¼Ÿ")]),t._v(" "),a("p",[t._v("å°±æ˜¯æ·äº†kæ¬¡éª°å­ï¼Œæ²¡æœ‰ä¸€æ¬¡æ˜¯ç›¸åŒçš„æ¦‚ç‡ï¼Œéœ€è¦å°½å¯èƒ½çš„å¤§äº›ï¼Œä¸€èˆ¬æ„ä¹‰ä¸Šæˆ‘ä»¬è‚¯å®šè¦å¤§äº0.5ï¼ˆè¿™ä¸ªæ•°æ˜¯ä¸ªç†æƒ³æ•°ï¼‰ã€‚")]),t._v(" "),a("p",[t._v("äºæ˜¯ï¼Œnæ¬¡äº‹ä»¶é‡Œé¢ï¼Œç¢°æ’ä¸º0çš„æ¦‚ç‡ï¼Œç”±ä¸Šé¢å…¬å¼å¾—ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-02.png",alt:"img"}})]),t._v(" "),a("p",[t._v("è¿™ä¸ªæ¦‚ç‡å€¼éœ€è¦å¤§äº0.5ï¼Œæˆ‘ä»¬è®¤ä¸ºè¿™æ ·çš„hashmapå¯ä»¥æä¾›å¾ˆä½çš„ç¢°æ’ç‡ã€‚æ‰€ä»¥ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-03png",alt:"img"}})]),t._v(" "),a("p",[t._v("è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯¹äºè¯¥å…¬å¼å…¶å®æœ€æƒ³æ±‚çš„æ—¶å€™é•¿åº¦sçš„æ—¶å€™ï¼Œnä¸ºå¤šå°‘æ¬¡å°±åº”è¯¥è¿›è¡Œæ‰©å®¹äº†ï¼Ÿè€Œè´Ÿè½½å› å­åˆ™æ˜¯$n/s$çš„å€¼ã€‚æ‰€ä»¥æ¨å¯¼å¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-04.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æ‰€ä»¥å¯ä»¥å¾—åˆ°")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-05.png",alt:"img"}})]),t._v(" "),a("p",[t._v("å…¶ä¸­")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-06.png",alt:"img"}})]),t._v(" "),a("p",[t._v("è¿™å°±æ˜¯ä¸€ä¸ªæ±‚ "),a("code",[t._v("âˆâ‹…0")]),t._v("å‡½æ•°æé™é—®é¢˜ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆä»¤$s = m+1ï¼ˆm \\to \\inftyï¼‰$åˆ™è½¬åŒ–ä¸º")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-07.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æˆ‘ä»¬å†ä»¤ $x = \\frac{1}{m} ï¼ˆx \\to 0ï¼‰$ åˆ™æœ‰ï¼Œ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-08.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æ‰€ä»¥")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-loadfactor-09.png",alt:"img"}})]),t._v(" "),a("p",[t._v("è€ƒè™‘åˆ° HashMapçš„å®¹é‡æœ‰ä¸€ä¸ªè¦æ±‚ï¼šå®ƒå¿…é¡»æ˜¯2çš„n æ¬¡å¹‚ã€‚å½“åŠ è½½å› å­é€‰æ‹©äº†0.75å°±å¯ä»¥ä¿è¯å®ƒä¸å®¹é‡çš„ä¹˜ç§¯ä¸ºæ•´æ•°ã€‚")]),t._v(" "),a("div",{staticClass:"language-text extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("16*0.75=12\n32*0.75=24\n")])])]),a("p",[t._v("é™¤äº† 0.75ï¼Œ0.5~1 ä¹‹é—´è¿˜æœ‰ 0.625ï¼ˆ5/8ï¼‰ã€0.875ï¼ˆ7/8ï¼‰å¯é€‰ï¼Œä»ä¸­ä½æ•°çš„è§’åº¦ï¼ŒæŒ‘ 0.75 æ¯”è¾ƒå®Œç¾ã€‚å¦å¤–ï¼Œç»´åŸºç™¾ç§‘ä¸Šè¯´ï¼Œæ‹‰é“¾æ³•ï¼ˆè§£å†³å“ˆå¸Œå†²çªçš„ä¸€ç§ï¼‰çš„åŠ è½½å› å­æœ€å¥½é™åˆ¶åœ¨ 0.7-0.8ä»¥ä¸‹ï¼Œè¶…è¿‡0.8ï¼ŒæŸ¥è¡¨æ—¶çš„CPUç¼“å­˜ä¸å‘½ä¸­ï¼ˆcache missingï¼‰ä¼šæŒ‰ç…§æŒ‡æ•°æ›²çº¿ä¸Šå‡ã€‚")]),t._v(" "),a("p",[t._v("ç»¼ä¸Šï¼Œ0.75 æ˜¯ä¸ªæ¯”è¾ƒå®Œç¾çš„é€‰æ‹©ã€‚")]),t._v(" "),a("h4",{attrs:{id:"å°ç»“-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å°ç»“-3"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#%E5%B0%8F%E7%BB%93-2",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("å°ç»“")]),t._v(" "),a("p",[t._v("HashMap çš„åŠ è½½å› å­ï¼ˆload factorï¼Œç›´è¯‘ä¸ºåŠ è½½å› å­ï¼Œæ„è¯‘ä¸ºè´Ÿè½½å› å­ï¼‰æ˜¯æŒ‡å“ˆå¸Œè¡¨ä¸­å¡«å……å…ƒç´ çš„ä¸ªæ•°ä¸æ¡¶çš„æ•°é‡çš„æ¯”å€¼ï¼Œå½“å…ƒç´ ä¸ªæ•°è¾¾åˆ°è´Ÿè½½å› å­ä¸æ¡¶çš„æ•°é‡çš„ä¹˜ç§¯æ—¶ï¼Œå°±éœ€è¦è¿›è¡Œæ‰©å®¹ã€‚è¿™ä¸ªå€¼ä¸€èˆ¬é€‰æ‹© 0.75ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªå€¼å¯ä»¥åœ¨æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¹‹é—´åšåˆ°ä¸€ä¸ªæŠ˜ä¸­ï¼Œä½¿å¾—å“ˆå¸Œè¡¨çš„æ€§èƒ½è¾¾åˆ°è¾ƒå¥½çš„è¡¨ç°ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœè´Ÿè½½å› å­è¿‡å¤§ï¼Œå¡«å……å› å­è¾ƒå¤šï¼Œé‚£ä¹ˆå“ˆå¸Œè¡¨ä¸­çš„å…ƒç´ å°±ä¼šè¶Šæ¥è¶Šå¤šåœ°èšé›†åœ¨å°‘æ•°çš„æ¡¶ä¸­ï¼Œè¿™å°±å¯¼è‡´äº†å†²çªçš„å¢åŠ ï¼Œè¿™äº›å†²çªä¼šå¯¼è‡´æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ•ˆç‡ä¸‹é™ã€‚åŒæ—¶ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´éœ€è¦æ›´é¢‘ç¹åœ°è¿›è¡Œæ‰©å®¹ï¼Œè¿›ä¸€æ­¥é™ä½äº†æ€§èƒ½ã€‚")]),t._v(" "),a("p",[t._v("å¦‚æœè´Ÿè½½å› å­è¿‡å°ï¼Œé‚£ä¹ˆæ¡¶çš„æ•°é‡ä¼šå¾ˆå¤šï¼Œè™½ç„¶å¯ä»¥å‡å°‘å†²çªï¼Œä½†æ˜¯åœ¨ç©ºé—´åˆ©ç”¨ä¸Šé¢ä¹Ÿä¼šæœ‰æµªè´¹ï¼Œå› æ­¤é€‰æ‹© 0.75 æ˜¯ä¸ºäº†å–å¾—ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œå³åœ¨æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¹‹é—´å–å¾—ä¸€ä¸ªæ¯”è¾ƒå¥½çš„å¹³è¡¡ç‚¹ã€‚")]),t._v(" "),a("p",[t._v("æ€»ä¹‹ï¼Œé€‰æ‹© 0.75 è¿™ä¸ªå€¼æ˜¯ä¸ºäº†åœ¨æ—¶é—´å’Œç©ºé—´æˆæœ¬ä¹‹é—´è¾¾åˆ°ä¸€ä¸ªè¾ƒå¥½çš„å¹³è¡¡ç‚¹ï¼Œæ—¢å¯ä»¥ä¿è¯å“ˆå¸Œè¡¨çš„æ€§èƒ½è¡¨ç°ï¼Œåˆèƒ½å¤Ÿå……åˆ†åˆ©ç”¨ç©ºé—´ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_04ã€çº¿ç¨‹ä¸å®‰å…¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_04ã€çº¿ç¨‹ä¸å®‰å…¨"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_04%E3%80%81%E7%BA%BF%E7%A8%8B%E4%B8%8D%E5%AE%89%E5%85%A8",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("04ã€çº¿ç¨‹ä¸å®‰å…¨")]),t._v(" "),a("p",[t._v("å…¶å®è¿™ä¸ªé—®é¢˜ä¹Ÿä¸ç”¨è¯´å¤ªå¤šï¼Œä½†è€ƒè™‘åˆ°"),a("a",{attrs:{href:"https://tobebetterjavaer.com/interview/java-hashmap-13.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("é¢è¯•çš„æ—¶å€™æœ‰äº›é¢è¯•å®˜ä¼šé—®open in new window"),a("OutboundLink")],1),t._v("ï¼Œé‚£å°±ç®€å•è¯´ä¸€ä¸‹ã€‚")]),t._v(" "),a("p",[t._v("ä¸‰æ–¹é¢åŸå› ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯")]),t._v(" "),a("li",[t._v("å¤šçº¿ç¨‹ä¸‹ put ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±")]),t._v(" "),a("li",[t._v("put å’Œ get å¹¶å‘æ—¶ä¼šå¯¼è‡´ get åˆ° null")])]),t._v(" "),a("h4",{attrs:{id:"_1-å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_1-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B%E6%89%A9%E5%AE%B9%E4%BC%9A%E6%AD%BB%E5%BE%AA%E7%8E%AF",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("1ï¼‰å¤šçº¿ç¨‹ä¸‹æ‰©å®¹ä¼šæ­»å¾ªç¯")]),t._v(" "),a("p",[t._v("ä¼—æ‰€å‘¨çŸ¥ï¼ŒHashMap æ˜¯é€šè¿‡æ‹‰é“¾æ³•æ¥è§£å†³å“ˆå¸Œå†²çªçš„ï¼Œä¹Ÿå°±æ˜¯å½“å“ˆå¸Œå†²çªæ—¶ï¼Œä¼šå°†ç›¸åŒå“ˆå¸Œå€¼çš„é”®å€¼å¯¹é€šè¿‡é“¾è¡¨çš„å½¢å¼å­˜æ”¾èµ·æ¥ã€‚")]),t._v(" "),a("p",[t._v("JDK 7 æ—¶ï¼Œé‡‡ç”¨çš„æ˜¯å¤´éƒ¨æ’å…¥çš„æ–¹å¼æ¥å­˜æ”¾é“¾è¡¨çš„ï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªå†²çªçš„é”®å€¼å¯¹ä¼šæ”¾åœ¨ä¸Šä¸€ä¸ªé”®å€¼å¯¹çš„å‰é¢ï¼ˆè®²æ‰©å®¹çš„æ—¶å€™è®²è¿‡äº†ï¼‰ã€‚æ‰©å®¹çš„æ—¶å€™å°±æœ‰å¯èƒ½å¯¼è‡´å‡ºç°ç¯å½¢é“¾è¡¨ï¼Œé€ æˆæ­»å¾ªç¯ã€‚")]),t._v(" "),a("p",[t._v("resize æ–¹æ³•çš„æºç ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// newCapacityä¸ºæ–°çš„å®¹é‡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" newCapacity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å°æ•°ç»„ï¼Œä¸´æ—¶è¿‡åº¦ä¸‹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" oldTable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰©å®¹å‰çš„å®¹é‡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" oldCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// MAXIMUM_CAPACITY ä¸ºæœ€å¤§å®¹é‡ï¼Œ2 çš„ 30 æ¬¡æ–¹ = 1<<30")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®¹é‡è°ƒæ•´ä¸º Integer çš„æœ€å¤§å€¼ 0x7fffffffï¼ˆåå…­è¿›åˆ¶ï¼‰=2 çš„ 31 æ¬¡æ–¹-1")]),t._v("\n        threshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAX_VALUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼ˆå¤§å®¹é‡ï¼‰")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" newTable "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("newCapacity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŠŠå°æ•°ç»„çš„å…ƒç´ è½¬ç§»åˆ°å¤§æ•°ç»„ä¸­")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("initHashSeedAsNeeded")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¼•ç”¨æ–°çš„å¤§æ•°ç»„")]),t._v("\n    table "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é‡æ–°è®¡ç®—é˜ˆå€¼")]),t._v("\n    threshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Math")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" loadFactor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("transfer æ–¹æ³•ç”¨æ¥è½¬ç§»ï¼Œå°†å°æ•°ç»„çš„å…ƒç´ æ‹·è´åˆ°æ–°çš„æ•°ç»„ä¸­ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("transfer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" rehash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°çš„å®¹é‡")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" newCapacity "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// éå†å°æ•°ç»„")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‹‰é“¾æ³•ï¼Œç›¸åŒ key ä¸Šçš„ä¸åŒå€¼")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Entry")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®— hash")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rehash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hash")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ®å¤§æ•°ç»„çš„å®¹é‡ï¼Œå’Œé”®çš„ hash è®¡ç®—å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("indexFor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newCapacity"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åŒä¸€ä½ç½®ä¸Šçš„æ–°å…ƒç´ è¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨")]),t._v("\n            e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ”¾åœ¨æ–°çš„æ•°ç»„ä¸Š")]),t._v("\n            newTable"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é“¾è¡¨ä¸Šçš„ä¸‹ä¸€ä¸ªå…ƒç´ ")]),t._v("\n            e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("æ³¨æ„ "),a("code",[t._v("e.next = newTable[i]")]),t._v(" å’Œ "),a("code",[t._v("newTable[i] = e")]),t._v(" è¿™ä¸¤è¡Œä»£ç ï¼Œå°±ä¼šå°†åŒä¸€ä½ç½®ä¸Šçš„æ–°å…ƒç´ è¢«æ”¾åœ¨é“¾è¡¨çš„å¤´éƒ¨ã€‚")]),t._v(" "),a("p",[t._v("æ‰©å®¹å‰çš„æ ·å­å‡å¦‚æ˜¯ä¸‹é¢è¿™æ ·å­ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-01.png",alt:"img"}})]),t._v(" "),a("p",[t._v("é‚£ä¹ˆæ­£å¸¸æ‰©å®¹åå°±æ˜¯ä¸‹é¢è¿™æ ·å­ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-02.png",alt:"img"}})]),t._v(" "),a("p",[t._v("å‡è®¾ç°åœ¨æœ‰ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è¿›è¡Œæ‰©å®¹ï¼Œçº¿ç¨‹ A åœ¨æ‰§è¡Œåˆ° "),a("code",[t._v("newTable[i] = e;")]),t._v(" è¢«æŒ‚èµ·ï¼Œæ­¤æ—¶çº¿ç¨‹ A ä¸­ï¼še=3ã€next=7ã€e.next=null")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-03.png",alt:"img"}})]),t._v(" "),a("p",[t._v("çº¿ç¨‹ B å¼€å§‹æ‰§è¡Œï¼Œå¹¶ä¸”å®Œæˆäº†æ•°æ®è½¬ç§»ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-04.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æ­¤æ—¶ï¼Œ7 çš„ next ä¸º 3ï¼Œ3 çš„ next ä¸º nullã€‚")]),t._v(" "),a("p",[t._v("éšåçº¿ç¨‹Aè·å¾—CPUæ—¶é—´ç‰‡ç»§ç»­æ‰§è¡Œ "),a("code",[t._v("newTable[i] = e")]),t._v("ï¼Œå°†3æ”¾å…¥æ–°æ•°ç»„å¯¹åº”çš„ä½ç½®ï¼Œæ‰§è¡Œå®Œæ­¤è½®å¾ªç¯åçº¿ç¨‹Açš„æƒ…å†µå¦‚ä¸‹ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-05.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æ‰§è¡Œä¸‹ä¸€è½®å¾ªç¯ï¼Œæ­¤æ—¶ e=7ï¼ŒåŸæœ¬çº¿ç¨‹ A ä¸­ 7 çš„ next ä¸º 5ï¼Œä½†ç”±äº table æ˜¯çº¿ç¨‹ A å’Œçº¿ç¨‹ B å…±äº«çš„ï¼Œè€Œçº¿ç¨‹ B é¡ºåˆ©æ‰§è¡Œå®Œåï¼Œ7 çš„ next å˜æˆäº† 3ï¼Œé‚£ä¹ˆæ­¤æ—¶çº¿ç¨‹ A ä¸­ï¼Œ7 çš„ next ä¹Ÿä¸º 3 äº†ã€‚")]),t._v(" "),a("p",[t._v("é‡‡ç”¨å¤´éƒ¨æ’å…¥çš„æ–¹å¼ï¼Œå˜æˆäº†ä¸‹é¢è¿™æ ·å­ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-06.png",alt:"img"}})]),t._v(" "),a("p",[t._v("å¥½åƒä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ­¤æ—¶ next = 3ï¼Œe = 3ã€‚")]),t._v(" "),a("p",[t._v("è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯ï¼Œä½†æ­¤æ—¶ï¼Œç”±äºçº¿ç¨‹ B å°† 3 çš„ next å˜ä¸ºäº† nullï¼Œæ‰€ä»¥æ­¤è½®å¾ªç¯åº”è¯¥æ˜¯æœ€åä¸€è½®äº†ã€‚")]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥å½“æ‰§è¡Œå®Œ "),a("code",[t._v("e.next=newTable[i]")]),t._v(" å³ 3.next=7 åï¼Œ3 å’Œ 7 ä¹‹é—´å°±ç›¸äº’é“¾æ¥äº†ï¼Œæ‰§è¡Œå®Œ "),a("code",[t._v("newTable[i]=e")]),t._v(" åï¼Œ3 è¢«å¤´æ’æ³•é‡æ–°æ’å…¥åˆ°é“¾è¡¨ä¸­ï¼Œæ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-07.png",alt:"img"}})]),t._v(" "),a("p",[t._v("å¥—å¨ƒå¼€å§‹ï¼Œå…ƒç´  5 ä¹Ÿå°±æˆäº†å¼ƒå©´ï¼Œæƒ¨~~~")]),t._v(" "),a("p",[t._v("ä¸è¿‡ï¼ŒJDK 8 æ—¶å·²ç»ä¿®å¤äº†è¿™ä¸ªé—®é¢˜ï¼Œæ‰©å®¹æ—¶ä¼šä¿æŒé“¾è¡¨åŸæ¥çš„é¡ºåºï¼ˆå—¯ï¼Œç­‰äºè¯´äº†åŠå¤©ç™½è¯´äº†ï¼Œå“ˆå“ˆï¼Œè¿™ä¸ªé¢è¯•é¢˜ç¡®å®æ˜¯è¿™æ ·ï¼Œå¾ˆæ°´ï¼Œä½†æœ‰äº›é¢è¯•å®˜åˆç¡®å®æ¯”è¾ƒè£…é€¼ï¼‰ã€‚")]),t._v(" "),a("h4",{attrs:{id:"_2-å¤šçº¿ç¨‹ä¸‹-put-ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¤šçº¿ç¨‹ä¸‹-put-ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_2-%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8B-put-%E4%BC%9A%E5%AF%BC%E8%87%B4%E5%85%83%E7%B4%A0%E4%B8%A2%E5%A4%B1",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("2ï¼‰å¤šçº¿ç¨‹ä¸‹ put ä¼šå¯¼è‡´å…ƒç´ ä¸¢å¤±")]),t._v(" "),a("p",[t._v("æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“å‘ç”Ÿå“ˆå¸Œå†²çªæ—¶ï¼ŒHashMap æ˜¯è¿™æ ·çš„ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-08.png",alt:"img"}})]),t._v(" "),a("p",[t._v("ä½†å¤šçº¿ç¨‹åŒæ—¶æ‰§è¡Œ put æ“ä½œæ—¶ï¼Œå¦‚æœè®¡ç®—å‡ºæ¥çš„ç´¢å¼•ä½ç½®æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¼šé€ æˆå‰ä¸€ä¸ª key è¢«åä¸€ä¸ª key è¦†ç›–ï¼Œä»è€Œå¯¼è‡´å…ƒç´ çš„ä¸¢å¤±ã€‚")]),t._v(" "),a("p",[t._v("put çš„æºç ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("putVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" onlyIfAbsent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n               "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" evict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¥éª¤â‘ ï¼štabä¸ºç©ºåˆ™åˆ›å»º")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¥éª¤â‘¡ï¼šè®¡ç®—indexï¼Œå¹¶å¯¹nullåšå¤„ç† ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),t._v(" k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¥éª¤â‘¢ï¼šèŠ‚ç‚¹keyå­˜åœ¨ï¼Œç›´æ¥è¦†ç›–value")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¥éª¤â‘£ï¼šåˆ¤æ–­è¯¥é“¾ä¸ºçº¢é»‘æ ‘")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TreeNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TreeNode")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("putTreeVal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¥éª¤â‘¤ï¼šè¯¥é“¾ä¸ºé“¾è¡¨")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" binCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("binCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    p"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("next "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n                    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//é“¾è¡¨é•¿åº¦å¤§äº8è½¬æ¢ä¸ºçº¢é»‘æ ‘è¿›è¡Œå¤„ç†")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("TREEIFY_THRESHOLD")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -1 for 1st")]),t._v("\n                        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("treeifyBin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n                "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// keyå·²ç»å­˜åœ¨ç›´æ¥è¦†ç›–value")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("k"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¥éª¤â‘¥ã€ç›´æ¥è¦†ç›–")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// existing mapping for key")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),t._v(" oldValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("onlyIfAbsent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" oldValue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterNodeAccess")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" oldValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("modCount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ­¥éª¤â‘¦ï¼šè¶…è¿‡æœ€å¤§å®¹é‡ å°±æ‰©å®¹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("size "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" threshold"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("afterNodeInsertion")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("evict"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("é—®é¢˜å‘ç”Ÿåœ¨æ­¥éª¤ â‘¡ è¿™é‡Œï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("p "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    tab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("newNode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hash"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("ä¸¤ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œäº† if è¯­å¥ï¼Œå‡è®¾çº¿ç¨‹ A å…ˆæ‰§è¡Œäº† "),a("code",[t._v("tab[i] = newNode(hash, key, value, null)")]),t._v("ï¼Œé‚£ table æ˜¯è¿™æ ·çš„ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-09.png",alt:"img"}})]),t._v(" "),a("p",[t._v("æ¥ç€ï¼Œçº¿ç¨‹ B æ‰§è¡Œäº† "),a("code",[t._v("tab[i] = newNode(hash, key, value, null)")]),t._v("ï¼Œé‚£ table æ˜¯è¿™æ ·çš„ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/collection/hashmap-thread-nosafe-10.png",alt:"img"}})]),t._v(" "),a("p",[t._v("3 è¢«å¹²æ‰äº†ã€‚")]),t._v(" "),a("h4",{attrs:{id:"_3-put-å’Œ-get-å¹¶å‘æ—¶ä¼šå¯¼è‡´-get-åˆ°-null"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-put-å’Œ-get-å¹¶å‘æ—¶ä¼šå¯¼è‡´-get-åˆ°-null"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_3-put-%E5%92%8C-get-%E5%B9%B6%E5%8F%91%E6%97%B6%E4%BC%9A%E5%AF%BC%E8%87%B4-get-%E5%88%B0-null",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("3ï¼‰put å’Œ get å¹¶å‘æ—¶ä¼šå¯¼è‡´ get åˆ° null")]),t._v(" "),a("p",[t._v("çº¿ç¨‹ A æ‰§è¡Œputæ—¶ï¼Œå› ä¸ºå…ƒç´ ä¸ªæ•°è¶…å‡ºé˜ˆå€¼è€Œå‡ºç°æ‰©å®¹ï¼Œçº¿ç¨‹B æ­¤æ—¶æ‰§è¡Œgetï¼Œæœ‰å¯èƒ½å¯¼è‡´è¿™ä¸ªé—®é¢˜ã€‚")]),t._v(" "),a("p",[t._v("æ³¨æ„æ¥çœ‹ resize æºç ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("final")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resize")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" oldTab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldTab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" oldTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" oldThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" threshold"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" newCap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¶…è¿‡æœ€å¤§å€¼å°±ä¸å†æ‰©å……äº†ï¼Œå°±åªå¥½éšä½ ç¢°æ’å»å§")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            threshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAX_VALUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" oldTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ²¡è¶…è¿‡æœ€å¤§å€¼ï¼Œå°±æ‰©å……ä¸ºåŸæ¥çš„2å€")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n                 oldCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// double threshold")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// initial capacity was placed in threshold")]),t._v("\n        newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldThr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("               "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// zero initial threshold signifies using defaults")]),t._v("\n        newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_LOAD_FACTOR")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DEFAULT_INITIAL_CAPACITY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¡ç®—æ–°çš„resizeä¸Šé™")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),t._v(" ft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" loadFactor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        newThr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCap "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" ft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("float")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAXIMUM_CAPACITY")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n                  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("ft "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Integer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("MAX_VALUE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    threshold "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newThr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@SuppressWarnings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rawtypes"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"unchecked"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" newTab "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("K")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("V")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Node")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("newCap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    table "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newTab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("çº¿ç¨‹ A æ‰§è¡Œå®Œ "),a("code",[t._v("table = newTab")]),t._v(" ä¹‹åï¼Œçº¿ç¨‹ B ä¸­çš„ table æ­¤æ—¶ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œæ­¤æ—¶å» get çš„æ—¶å€™å½“ç„¶ä¼š get åˆ° null äº†ï¼Œå› ä¸ºå…ƒç´ è¿˜æ²¡æœ‰è½¬ç§»ã€‚")]),t._v(" "),a("p",[t._v("å‚è€ƒé“¾æ¥ï¼š")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("a",{attrs:{href:"https://blog.csdn.net/lonyw/article/details/80519652",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.csdn.net/lonyw/article/details/80519652open in new window"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/91636401",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://zhuanlan.zhihu.com/p/91636401open in new window"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.zhihu.com/question/20733617",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.zhihu.com/question/20733617open in new window"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/21673805",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://zhuanlan.zhihu.com/p/21673805open in new window"),a("OutboundLink")],1)])])]),t._v(" "),a("h4",{attrs:{id:"_4-å°ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-å°ç»“"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_4-%E5%B0%8F%E7%BB%93",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("4ï¼‰å°ç»“")]),t._v(" "),a("p",[t._v("HashMap æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ä¸»è¦æ˜¯å› ä¸ºå®ƒåœ¨è¿›è¡Œæ’å…¥ã€åˆ é™¤å’Œæ‰©å®¹ç­‰æ“ä½œæ—¶å¯èƒ½ä¼šå¯¼è‡´é“¾è¡¨çš„ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œç ´åäº† HashMap çš„ä¸å˜æ€§ã€‚å…·ä½“æ¥è¯´ï¼Œå¦‚æœåœ¨ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨éå† HashMap çš„é“¾è¡¨æ—¶ï¼Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹å¯¹è¯¥é“¾è¡¨è¿›è¡Œäº†ä¿®æ”¹ï¼ˆæ¯”å¦‚æ·»åŠ äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´é“¾è¡¨çš„ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œä»è€Œç ´åäº†å½“å‰çº¿ç¨‹æ­£åœ¨è¿›è¡Œçš„éå†æ“ä½œï¼Œå¯èƒ½å¯¼è‡´éå†å¤±è´¥æˆ–è€…å‡ºç°æ­»å¾ªç¯ç­‰é—®é¢˜ã€‚")]),t._v(" "),a("p",[t._v("ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJava æä¾›äº†çº¿ç¨‹å®‰å…¨çš„ HashMap å®ç°ç±» "),a("a",{attrs:{href:"https://tobebetterjavaer.com/thread/ConcurrentHashMap.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ConcurrentHashMapopen in new window"),a("OutboundLink")],1),t._v("ã€‚ConcurrentHashMap å†…éƒ¨é‡‡ç”¨äº†åˆ†æ®µé”ï¼ˆSegmentï¼‰ï¼Œå°†æ•´ä¸ª Map æ‹†åˆ†ä¸ºå¤šä¸ªå°çš„ HashMapï¼Œæ¯ä¸ªå°çš„ HashMap éƒ½æœ‰è‡ªå·±çš„é”ï¼Œä¸åŒçš„çº¿ç¨‹å¯ä»¥åŒæ—¶è®¿é—®ä¸åŒçš„å° Mapï¼Œä»è€Œå®ç°äº†çº¿ç¨‹å®‰å…¨ã€‚åœ¨è¿›è¡Œæ’å…¥ã€åˆ é™¤å’Œæ‰©å®¹ç­‰æ“ä½œæ—¶ï¼Œåªéœ€è¦é”ä½å½“å‰å° Mapï¼Œä¸ä¼šå¯¹æ•´ä¸ª Map è¿›è¡Œé”å®šï¼Œæé«˜äº†å¹¶å‘è®¿é—®çš„æ•ˆç‡ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_05ã€æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_05ã€æ€»ç»“"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/hashmap.html#_05%E3%80%81%E6%80%BB%E7%BB%93",target:"_blank",rel:"noopener noreferrer"}},[t._v("#"),a("OutboundLink")],1),t._v("05ã€æ€»ç»“")]),t._v(" "),a("p",[t._v("HashMapæ˜¯Javaä¸­æœ€å¸¸ç”¨çš„é›†åˆä¹‹ä¸€ï¼Œå®ƒæ˜¯ä¸€ç§é”®å€¼å¯¹å­˜å‚¨çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥æ ¹æ®é”®æ¥å¿«é€Ÿè®¿é—®å¯¹åº”çš„å€¼ã€‚ä»¥ä¸‹æ˜¯å¯¹HashMapçš„æ€»ç»“ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("HashMapé‡‡ç”¨æ•°ç»„+é“¾è¡¨/çº¢é»‘æ ‘çš„å­˜å‚¨ç»“æ„ï¼Œèƒ½å¤Ÿåœ¨O(1)çš„æ—¶é—´å¤æ‚åº¦å†…å®ç°å…ƒç´ çš„æ·»åŠ ã€åˆ é™¤ã€æŸ¥æ‰¾ç­‰æ“ä½œã€‚")]),t._v(" "),a("li",[t._v("HashMapæ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå› æ­¤åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦ä½¿ç”¨"),a("a",{attrs:{href:"https://tobebetterjavaer.com/thread/ConcurrentHashMap.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ConcurrentHashMapopen in new window"),a("OutboundLink")],1),t._v("æ¥ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚")]),t._v(" "),a("li",[t._v("HashMapçš„æ‰©å®¹æœºåˆ¶æ˜¯é€šè¿‡æ‰©å¤§æ•°ç»„å®¹é‡å’Œé‡æ–°è®¡ç®—hashå€¼æ¥å®ç°çš„ï¼Œæ‰©å®¹æ—¶éœ€è¦é‡æ–°è®¡ç®—æ‰€æœ‰å…ƒç´ çš„hashå€¼ï¼Œå› æ­¤åœ¨å…ƒç´ è¾ƒå¤šæ—¶æ‰©å®¹ä¼šå½±å“æ€§èƒ½ã€‚")]),t._v(" "),a("li",[t._v("åœ¨Java 8ä¸­ï¼ŒHashMapçš„å®ç°å¼•å…¥äº†æ‹‰é“¾æ³•ã€æ ‘åŒ–ç­‰æœºåˆ¶æ¥ä¼˜åŒ–å¤§é‡å…ƒç´ å­˜å‚¨çš„æƒ…å†µï¼Œè¿›ä¸€æ­¥æå‡äº†æ€§èƒ½ã€‚")]),t._v(" "),a("li",[t._v("HashMapä¸­çš„keyæ˜¯å”¯ä¸€çš„ï¼Œå¦‚æœè¦å­˜å‚¨é‡å¤çš„keyï¼Œåˆ™åé¢çš„å€¼ä¼šè¦†ç›–å‰é¢çš„å€¼ã€‚")]),t._v(" "),a("li",[t._v("HashMapçš„åˆå§‹å®¹é‡å’ŒåŠ è½½å› å­éƒ½å¯ä»¥è®¾ç½®ï¼Œåˆå§‹å®¹é‡è¡¨ç¤ºæ•°ç»„çš„åˆå§‹å¤§å°ï¼ŒåŠ è½½å› å­è¡¨ç¤ºæ•°ç»„çš„å¡«å……å› å­ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåˆå§‹å®¹é‡ä¸º16ï¼ŒåŠ è½½å› å­ä¸º0.75ã€‚")]),t._v(" "),a("li",[t._v("HashMapåœ¨éå†æ—¶æ˜¯æ— åºçš„ï¼Œå› æ­¤å¦‚æœéœ€è¦æœ‰åºéå†ï¼Œå¯ä»¥ä½¿ç”¨"),a("a",{attrs:{href:"https://tobebetterjavaer.com/collection/treemap.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("TreeMapopen in new window"),a("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("ç»¼ä¸Šæ‰€è¿°ï¼ŒHashMapæ˜¯ä¸€ç§é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œå…·æœ‰å¿«é€ŸæŸ¥æ‰¾å’Œæ’å…¥å…ƒç´ çš„èƒ½åŠ›ï¼Œä½†éœ€è¦æ³¨æ„çº¿ç¨‹å®‰å…¨å’Œæ€§èƒ½é—®é¢˜ã€‚")])])}),[],!1,null,null,null);a.default=e.exports}}]);