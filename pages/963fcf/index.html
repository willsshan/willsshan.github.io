<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JVM调优总结 -Xms -Xmx -Xmn -Xss | 狂想地</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="01.png">
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?8ca2d06ec3457bf39838bbdb9ebf3f6b";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
      })();
        </script>
    <meta name="description" content="自建博客">
    
    <link rel="preload" href="/assets/css/0.styles.9b32a9ce.css" as="style"><link rel="preload" href="/assets/js/app.971e7be9.js" as="script"><link rel="preload" href="/assets/js/2.f0b7de72.js" as="script"><link rel="preload" href="/assets/js/49.ddb24d57.js" as="script"><link rel="prefetch" href="/assets/js/10.0b6d69c5.js"><link rel="prefetch" href="/assets/js/11.f0e3c64f.js"><link rel="prefetch" href="/assets/js/12.4ec076f9.js"><link rel="prefetch" href="/assets/js/13.7c4dcd47.js"><link rel="prefetch" href="/assets/js/14.e96dc414.js"><link rel="prefetch" href="/assets/js/15.2f47a566.js"><link rel="prefetch" href="/assets/js/16.f1abad64.js"><link rel="prefetch" href="/assets/js/17.ccaa471c.js"><link rel="prefetch" href="/assets/js/18.5ef8afcf.js"><link rel="prefetch" href="/assets/js/19.51d08335.js"><link rel="prefetch" href="/assets/js/20.b7e94ca0.js"><link rel="prefetch" href="/assets/js/21.9a6eb457.js"><link rel="prefetch" href="/assets/js/22.b7875db2.js"><link rel="prefetch" href="/assets/js/23.4f69263c.js"><link rel="prefetch" href="/assets/js/24.7c2cbd29.js"><link rel="prefetch" href="/assets/js/25.088a3f85.js"><link rel="prefetch" href="/assets/js/26.ee51a5c6.js"><link rel="prefetch" href="/assets/js/27.77493a0b.js"><link rel="prefetch" href="/assets/js/28.c034713c.js"><link rel="prefetch" href="/assets/js/29.4b3cc903.js"><link rel="prefetch" href="/assets/js/3.92ee9c9d.js"><link rel="prefetch" href="/assets/js/30.41290193.js"><link rel="prefetch" href="/assets/js/31.ca5c59ca.js"><link rel="prefetch" href="/assets/js/32.fd2a9adc.js"><link rel="prefetch" href="/assets/js/33.52809af8.js"><link rel="prefetch" href="/assets/js/34.d32a6968.js"><link rel="prefetch" href="/assets/js/35.c7a54b7b.js"><link rel="prefetch" href="/assets/js/36.9b0779cc.js"><link rel="prefetch" href="/assets/js/37.e6c0580f.js"><link rel="prefetch" href="/assets/js/38.b90b50ba.js"><link rel="prefetch" href="/assets/js/39.27276226.js"><link rel="prefetch" href="/assets/js/4.1d89f541.js"><link rel="prefetch" href="/assets/js/40.fcd7455f.js"><link rel="prefetch" href="/assets/js/41.84e7a5f6.js"><link rel="prefetch" href="/assets/js/42.ab024f77.js"><link rel="prefetch" href="/assets/js/43.3b5493f4.js"><link rel="prefetch" href="/assets/js/44.6a4f3009.js"><link rel="prefetch" href="/assets/js/45.67b8de99.js"><link rel="prefetch" href="/assets/js/46.419ac801.js"><link rel="prefetch" href="/assets/js/47.2fd34d93.js"><link rel="prefetch" href="/assets/js/48.2074ef58.js"><link rel="prefetch" href="/assets/js/5.311aac1c.js"><link rel="prefetch" href="/assets/js/50.23863a5f.js"><link rel="prefetch" href="/assets/js/51.78f63de6.js"><link rel="prefetch" href="/assets/js/52.c69e373b.js"><link rel="prefetch" href="/assets/js/53.89ee296c.js"><link rel="prefetch" href="/assets/js/54.80809159.js"><link rel="prefetch" href="/assets/js/55.4b11e6ea.js"><link rel="prefetch" href="/assets/js/56.74a15729.js"><link rel="prefetch" href="/assets/js/6.19988b39.js"><link rel="prefetch" href="/assets/js/7.055bfc60.js"><link rel="prefetch" href="/assets/js/8.6ec347d2.js"><link rel="prefetch" href="/assets/js/9.918fc9ee.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9b32a9ce.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="./img/fi.jpg" alt="狂想地" class="logo"> <span class="site-name can-hide">狂想地</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>语言学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/java/" class="nav-link">《Java自学笔记》</a></li><li class="dropdown-subitem"><a href="/note/rust/" class="nav-link">《Rust自学笔记》</a></li></ul></li><li class="dropdown-item"><h4>框架学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/mybatis/" class="nav-link">《Mybatis》</a></li><li class="dropdown-subitem"><a href="/note/spring/" class="nav-link">《Spring》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/963fcf/404" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/963fcf/404" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e7ada5/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/5a3d2d/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><a href="/pages/1a935d/" class="nav-link">网络</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0f17e6/" class="nav-link">消息队列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><a href="/project/" class="link-title">项目</a> <span class="title" style="display:none;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a1902d/" class="nav-link">谷粒商城</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><!----> <span class="title" style="display:;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/pages/b6216e/" class="nav-link">文章</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>语言学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/java/" class="nav-link">《Java自学笔记》</a></li><li class="dropdown-subitem"><a href="/note/rust/" class="nav-link">《Rust自学笔记》</a></li></ul></li><li class="dropdown-item"><h4>框架学习笔记</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/note/mybatis/" class="nav-link">《Mybatis》</a></li><li class="dropdown-subitem"><a href="/note/spring/" class="nav-link">《Spring》</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术" class="dropdown-title"><a href="/technology/" class="link-title">技术</a> <span class="title" style="display:none;">技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/963fcf/404" class="nav-link">技术文档</a></li><li class="dropdown-item"><!----> <a href="/pages/963fcf/404" class="nav-link">博客搭建</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e7ada5/" class="nav-link">Mysql</a></li><li class="dropdown-item"><!----> <a href="/pages/5a3d2d/" class="nav-link">ElasticSearch</a></li></ul></div></div><div class="nav-item"><a href="/pages/1a935d/" class="nav-link">网络</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/0f17e6/" class="nav-link">消息队列</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><a href="/project/" class="link-title">项目</a> <span class="title" style="display:none;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/a1902d/" class="nav-link">谷粒商城</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="收藏" class="dropdown-title"><!----> <span class="title" style="display:;">收藏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/beb6c0bd8a66cea6/" class="nav-link">网站</a></li><li class="dropdown-item"><!----> <a href="/pages/b6216e/" class="nav-link">文章</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java基础</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java进阶</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JVM</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/963fcf/" aria-current="page" class="active sidebar-link">JVM调优总结 -Xms -Xmx -Xmn -Xss</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/963fcf/#一、各个参数的意义" class="sidebar-link">一、各个参数的意义</a></li><li class="sidebar-sub-header level2"><a href="/pages/963fcf/#二、runtime中的maxmemory-totalmemory和freememory" class="sidebar-link">二、Runtime中的maxMemory，totalMemory和freeMemory</a></li><li class="sidebar-sub-header level2"><a href="/pages/963fcf/#三、常见参数" class="sidebar-link">三、常见参数</a></li><li class="sidebar-sub-header level2"><a href="/pages/963fcf/#四、调优总结" class="sidebar-link">四、调优总结</a></li><li class="sidebar-sub-header level2"><a href="/pages/963fcf/#五、tomcat中的jvm连接数-和tomcat优化的使用如下" class="sidebar-link">五、tomcat中的jvm连接数，和tomcat优化的使用如下：</a></li><li class="sidebar-sub-header level2"><a href="/pages/963fcf/#参考" class="sidebar-link">参考：</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>奇淫技巧</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/note/java/#《Java自学笔记》" data-v-06225672>《Java自学笔记》</a></li><li data-v-06225672><a href="/note/java/#JVM" data-v-06225672>JVM</a></li></ul> <div class="info" data-v-06225672><!----> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-11-08</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">JVM调优总结 -Xms -Xmx -Xmn -Xss<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="jvm调优总结-xms-xmx-xmn-xss"><a href="#jvm调优总结-xms-xmx-xmn-xss" class="header-anchor">#</a> JVM调优总结 -Xms -Xmx -Xmn -Xss</h1> <h2 id="一、各个参数的意义"><a href="#一、各个参数的意义" class="header-anchor">#</a> 一、各个参数的意义</h2> <ul><li><p><strong>Xms</strong> 是指设定程序启动时占用内存大小。一般来讲，大点，程序会启动的快一点，但是也可能会导致机器暂时间变慢。</p></li> <li><p><strong>Xmx</strong> 是指设定程序运行期间最大可占用的内存大小。如果程序运行需要占用更多的内存，超出了这个设置值，就会抛出OutOfMemory异常。</p></li> <li><p><strong>Xss</strong> 是指设定每个线程的堆栈大小。这个就要依据你的程序，看一个线程大约需要占用多少内存，可能会有多少线程同时运行等。</p></li></ul> <p>以上三个参数的设置都是默认以Byte为单位的，也可以在数字后面添加[k/K]或者[m/M]来表示KB或者MB。而且，超过机器本身的内存大小也是不可以的，否则就等着机器变慢而不是程序变慢了。</p> <ol><li>-Xms 为jvm启动时分配的内存，比如-Xms200m，表示分配200M</li> <li>-Xmx 为jvm运行过程中分配的最大内存，比如-Xms500m，表示jvm进程最多只能够占用500M内存</li> <li>-Xss 为jvm启动的每个线程分配的内存大小，默认JDK1.4中是256K，JDK1.5+中是1M</li></ol> <table><thead><tr><th>Total Memory</th> <th>-Xms</th> <th>-Xmx</th> <th>-Xss</th> <th>Spare Memory</th> <th>JDK</th> <th>Thread Count</th></tr></thead> <tbody><tr><td>1024M</td> <td>256M</td> <td>256M</td> <td>256K</td> <td>768M</td> <td>1.4</td> <td>3072</td></tr> <tr><td>1024M</td> <td>256M</td> <td>256M</td> <td>256K</td> <td>768M</td> <td>1.5</td> <td>768</td></tr></tbody></table> <p>上面的表格只是大致的估计了下在特定内存条件下可以在java中创建的最大线程数。随着-Xmx的加大，空闲的内存数就更少，那么可以创建的线程也就更少，同时在JDK1.4和1.5版本不同下，可创建的线程数也会根据每个线程的内存大小不同而不同。</p> <p>​    其实只要我们了解了JVM的内存大小指定以及java中线程的内存模型，基本上我们就可以很好的控制如何在java中使用线程和避免内存溢出或错误的问题了。</p> <h2 id="二、runtime中的maxmemory-totalmemory和freememory"><a href="#二、runtime中的maxmemory-totalmemory和freememory" class="header-anchor">#</a> 二、Runtime中的maxMemory，totalMemory和freeMemory</h2> <ul><li><p>maxMemory()这个方法返回的是java虚拟机（这个进程）能构从操作系统那里挖到的最大的内存，以字节为单位，如果在运行java程序的时候，没有添加-Xmx参数，那么就是64兆，也就是说maxMemory()返回的大约是64<em>1024</em>1024字节，这是java虚拟机默认情况下能从操作系统那里挖到的最大的内存。如果添加了-Xmx参数，将以这个参数后面的值为准，例如java -cp you_classpath -Xmx512m your_class，那么最大内存就是512<em>1024</em>1024字节。</p></li> <li><p>totalMemory()这个方法返回的是java虚拟机现在已经从操作系统那里挖过来的内存大小，也就是java虚拟机这个进程当时所占用的所有内存。如果在运行java的时候没有添加-Xms参数，那么，在java程序运行的过程的，内存总是慢慢的从操作系统那里挖的，基本上是用多少挖多少，直到挖到maxMemory()为止，所以totalMemory()是慢慢增大的。如果用了-Xms参数，程序在启动的时候就会无条件的从操作系统中挖 -Xms后面定义的内存数，然后在这些内存用的差不多的时候，再去挖。</p></li> <li><p>freeMemory()是什么呢，刚才讲到如果在运行java的时候没有添加-Xms参数，那么，在java程序运行的过程的，内存总是慢慢的从操作系统那里挖的，基本上是用多少挖多少，但是java虚拟机100％的情况下是会稍微多挖一点的，这些挖过来而又没有用上的内存，实际上就是 freeMemory()，所以freeMemory()的值一般情况下都是很小的，但是如果你在运行java程序的时候使用了-Xms，这个时候因为程序在启动的时候就会无条件的从操作系统中挖-Xms后面定义的内存数，这个时候，挖过来的内存可能大部分没用上，所以这个时候freeMemory()可能会有些大。</p></li></ul> <h2 id="三、常见参数"><a href="#三、常见参数" class="header-anchor">#</a> 三、常见参数</h2> <h3 id="_1-堆大小设置"><a href="#_1-堆大小设置" class="header-anchor">#</a> 1.堆大小设置</h3> <p>JVM 中最大堆大小有三方面限制：相关操作系统的数据模型（32-bt还是64-bit）限制；系统的可用虚拟内存限制；系统的可用物理内存限制。32位系统下，一般限制在1.5G~2G；64为操作系统对内存无限制。我在Windows Server 2003 系统，3.5G物理内存，JDK5.0下测试，最大可设置为1478m。</p> <p>典型设置：</p> <ul><li>java -Xmx3550m -Xms3550m -Xmn2g -Xss128k
- Xmx3550m ：设置JVM最大可用内存为3550M。
-Xms3550m ：设置JVM促使内存为3550m。此值可以设置与-Xmx相同，以避免每次垃圾回收完成后JVM重新分配内存。
-Xmn2g ：设置年轻代大小为2G。整个堆大小=年轻代大小 + 年老代大小 + 持久代大小 。持久代一般固定大小为64m，所以增大年轻代后，将会减小年老代大小。此值对系统性能影响较大，Sun官方推荐配置为整个堆的3/8。
-Xss128k ：设置每个线程的堆栈大小。JDK5.0以后每个线程堆栈大小为1M，以前每个线程堆栈大小为256K。更具应用的线程所需内存大小进行调整。在相同物理内存下，减小这个值能生成更多的线程。但是操作系统对一个进程内的线程数还是有限制的，不能无限生成，经验值在3000~5000左右。</li> <li>java -Xmx3550m -Xms3550m -Xss128k -XX:NewRatio=4 -XX:SurvivorRatio=4 -XX:MaxPermSize=16m -XX:MaxTenuringThreshold=0
-XX:NewRatio=4 :设置年轻代（包括Eden和两个Survivor区）与年老代的比值（除去持久代）。设置为4，则年轻代与年老代所占比值为1：4，年轻代占整个堆栈的1/5
-XX:SurvivorRatio=4 ：设置年轻代中Eden区与Survivor区的大小比值。设置为4，则两个Survivor区与一个Eden区的比值为2:4，一个Survivor区占整个年轻代的1/6
-XX:MaxPermSize=16m :设置持久代大小为16m。
-XX:MaxTenuringThreshold=0 ：设置垃圾最大年龄。如果设置为0的话，则年轻代对象不经过Survivor区，直接进入年老代 。对于年老代比较多的应用，可以提高效率。如果将此值设置为一个较大值，则年轻代对象会在Survivor区进行多次复制，这样可以增加对象再年轻代的存活时间 ，增加在年轻代即被回收的概论。</li></ul> <h3 id="_2-回收器选择"><a href="#_2-回收器选择" class="header-anchor">#</a> 2. 回收器选择</h3> <p>JVM给了三种选择：串行收集器、并行收集器、并发收集器 ，但是串行收集器只适用于小数据量的情况，所以这里的选择主要针对并行收集器和并发收集器。默认情况下，JDK5.0以前都是使用串行收集器，如果想使用其他收集器需要在启动时加入相应参数。JDK5.0以后，JVM会根据当前系统配置进行判断。</p> <ol><li><p>吞吐量优先 的并行收集器</p> <p>如上文所述，并行收集器主要以到达一定的吞吐量为目标，适用于科学技术和后台处理等。</p> <p>典型配置 ：</p> <ul><li>java -Xmx3800m -Xms3800m -Xmn2g -Xss128k -XX:+UseParallelGC -XX:ParallelGCThreads=20
-XX:+UseParallelGC ：选择垃圾收集器为并行收集器。 此配置仅对年轻代有效。即上述配置下，年轻代使用并发收集，而年老代仍旧使用串行收集。
-XX:ParallelGCThreads=20 ：配置并行收集器的线程数，即：同时多少个线程一起进行垃圾回收。此值最好配置与处理器数目相等。</li> <li>java -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:+UseParallelGC -XX:ParallelGCThreads=20 -XX:+UseParallelOldGC
-XX:+UseParallelOldGC ：配置年老代垃圾收集方式为并行收集。JDK6.0支持对年老代并行收集。</li> <li>java -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:+UseParallelGC -XX:MaxGCPauseMillis=100
-XX:MaxGCPauseMillis=100 : 设置每次年轻代垃圾回收的最长时间，如果无法满足此时间，JVM会自动调整年轻代大小，以满足此值。</li> <li>java -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:+UseParallelGC -XX:MaxGCPauseMillis=100 -XX:+UseAdaptiveSizePolicy
-XX:+UseAdaptiveSizePolicy ：设置此选项后，并行收集器会自动选择年轻代区大小和相应的Survivor区比例，以达到目标系统规定的最低相应时间或者收集频率等，此值建议使用并行收集器时，一直打开。</li></ul></li> <li><p>响应时间优先 的并发收集器</p> <p>如上文所述，并发收集器主要是保证系统的响应时间，减少垃圾收集时的停顿时间。适用于应用服务器、电信领域等。</p> <p>典型配置 ：</p> <ul><li>java -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:ParallelGCThreads=20 -XX:+UseConcMarkSweepGC -XX:+UseParNewGC
-XX:+UseConcMarkSweepGC ：设置年老代为并发收集。测试中配置这个以后，-XX:NewRatio=4的配置失效了，原因不明。所以，此时年轻代大小最好用-Xmn设置。
-XX:+UseParNewGC :设置年轻代为并行收集。可与CMS收集同时使用。JDK5.0以上，JVM会根据系统配置自行设置，所以无需再设置此值。</li> <li>java -Xmx3550m -Xms3550m -Xmn2g -Xss128k -XX:+UseConcMarkSweepGC -XX:CMSFullGCsBeforeCompaction=5 -XX:+UseCMSCompactAtFullCollection
-XX:CMSFullGCsBeforeCompaction ：由于并发收集器不对内存空间进行压缩、整理，所以运行一段时间以后会产生“碎片”，使得运行效率降低。此值设置运行多少次GC以后对内存空间进行压缩、整理。
-XX:+UseCMSCompactAtFullCollection ：打开对年老代的压缩。可能会影响性能，但是可以消除碎片</li></ul></li></ol> <h3 id="_3-辅助信息"><a href="#_3-辅助信息" class="header-anchor">#</a> 3. 辅助信息</h3> <p>JVM提供了大量命令行参数，打印信息，供调试使用。主要有以下一些：</p> <ul><li><p>-XX:+PrintGC</p> <p>输出形式：[GC 118250K-&gt;113543K(130112K), 0.0094143 secs]</p> <p>​        [Full GC 121376K-&gt;10414K(130112K), 0.0650971 secs]</p></li> <li><p>-XX:+PrintGCDetails</p> <p>输出形式：[GC [DefNew: 8614K-&gt;781K(9088K), 0.0123035 secs] 118250K-&gt;113543K(130112K), 0.0124633 secs]</p> <p>​        [GC [DefNew: 8614K-&gt;8614K(9088K), 0.0000665 secs][Tenured: 112761K-&gt;10414K(121024K), 0.0433488 secs] 121376K-&gt;10414K(130112K), 0.0436268 secs]</p></li> <li><p>-XX:+PrintGCTimeStamps -XX:+PrintGC：PrintGCTimeStamps可与上面两个混合使用
输出形式：11.851: [GC 98328K-&gt;93620K(130112K), 0.0082960 secs]</p></li> <li><p>-XX:+PrintGCApplicationConcurrentTime: 打印每次垃圾回收前，程序未中断的执行时间。可与上面混合使用
输出形式：Application time: 0.5291524 seconds</p></li> <li><p>-XX:+PrintGCApplicationStoppedTime ：打印垃圾回收期间程序暂停的时间。可与上面混合使用
输出形式：Total time for which application threads were stopped: 0.0468229 seconds</p></li> <li><p>-XX:PrintHeapAtGC :打印GC前后的详细堆栈信息
输出形式：</p> <div class="language- extra-class"><pre class="language-text"><code>34.702: [GC {Heap before gc invocations=7:
def new generation  total 55296K, used 52568K [0x1ebd0000, 0x227d0000, 0x227d0000)
eden space 49152K, 99% used [0x1ebd0000, 0x21bce430, 0x21bd0000)
from space 6144K, 55% used [0x221d0000, 0x22527e10, 0x227d0000)
to  space 6144K,  0% used [0x21bd0000, 0x21bd0000, 0x221d0000)
tenured generation  total 69632K, used 2696K [0x227d0000, 0x26bd0000, 0x26bd0000)
the space 69632K,  3% used [0x227d0000, 0x22a720f8, 0x22a72200, 0x26bd0000)
compacting perm gen total 8192K, used 2898K [0x26bd0000, 0x273d0000, 0x2abd0000)
  the space 8192K, 35% used [0x26bd0000, 0x26ea4ba8, 0x26ea4c00, 0x273d0000)
  ro space 8192K, 66% used [0x2abd0000, 0x2b12bcc0, 0x2b12be00, 0x2b3d0000)
  rw space 12288K, 46% used [0x2b3d0000, 0x2b972060, 0x2b972200, 0x2bfd0000)
34.735: [DefNew: 52568K-&gt;3433K(55296K), 0.0072126 secs] 55264K-&gt;6615K(124928K)Heap after gc invocations=8:
def new generation  total 55296K, used 3433K [0x1ebd0000, 0x227d0000, 0x227d0000)
eden space 49152K,  0% used [0x1ebd0000, 0x1ebd0000, 0x21bd0000)
from space 6144K, 55% used [0x21bd0000, 0x21f2a5e8, 0x221d0000)
to  space 6144K,  0% used [0x221d0000, 0x221d0000, 0x227d0000)
tenured generation  total 69632K, used 3182K [0x227d0000, 0x26bd0000, 0x26bd0000)
the space 69632K,  4% used [0x227d0000, 0x22aeb958, 0x22aeba00, 0x26bd0000)
compacting perm gen total 8192K, used 2898K [0x26bd0000, 0x273d0000, 0x2abd0000)
  the space 8192K, 35% used [0x26bd0000, 0x26ea4ba8, 0x26ea4c00, 0x273d0000)
  ro space 8192K, 66% used [0x2abd0000, 0x2b12bcc0, 0x2b12be00, 0x2b3d0000)
  rw space 12288K, 46% used [0x2b3d0000, 0x2b972060, 0x2b972200, 0x2bfd0000)
}
, 0.0757599 secs]
</code></pre></div></li> <li><p>-Xloggc:filename :与上面几个配合使用，把相关日志信息记录到文件以便分析。</p></li></ul> <h3 id="_4-常见配置汇总"><a href="#_4-常见配置汇总" class="header-anchor">#</a> 4. 常见配置汇总</h3> <ol><li>堆设置
<ul><li>-Xms :初始堆大小</li> <li>-Xmx :最大堆大小</li> <li>-XX:NewSize=n :设置年轻代大小</li> <li>-XX:NewRatio=n: 设置年轻代和年老代的比值。如:为3，表示年轻代与年老代比值为1：3，年轻代占整个年轻代年老代和的1/4</li> <li>-XX:SurvivorRatio=n :年轻代中Eden区与两个Survivor区的比值。注意Survivor区有两个。如：3，表示Eden：Survivor=3：2，一个Survivor区占整个年轻代的1/5</li> <li>-XX:MaxPermSize=n :设置持久代大小</li></ul></li> <li>收集器设置
<ul><li>-XX:+UseSerialGC :设置串行收集器</li> <li>-XX:+UseParallelGC :设置并行收集器</li> <li>-XX:+UseParalledlOldGC :设置并行年老代收集器</li> <li>-XX:+UseConcMarkSweepGC :设置并发收集器</li></ul></li> <li>垃圾回收统计信息
<ul><li>-XX:+PrintGC</li> <li>-XX:+PrintGCDetails</li> <li>-XX:+PrintGCTimeStamps</li> <li>-Xloggc:filename</li></ul></li> <li>并行收集器设置
<ul><li>-XX:ParallelGCThreads=n :设置并行收集器收集时使用的CPU数。并行收集线程数。</li> <li>-XX:MaxGCPauseMillis=n :设置并行收集最大暂停时间</li> <li>-XX:GCTimeRatio=n :设置垃圾回收时间占程序运行时间的百分比。公式为1/(1+n)</li></ul></li> <li>并发收集器设置
<ul><li>-XX:+CMSIncrementalMode :设置为增量模式。适用于单CPU情况。</li> <li>-XX:ParallelGCThreads=n :设置并发收集器年轻代收集方式为并行收集时，使用的CPU数。并行收集线程数。</li></ul></li></ol> <h2 id="四、调优总结"><a href="#四、调优总结" class="header-anchor">#</a> 四、调优总结</h2> <ol><li><p>年轻代大小选择</p> <ul><li>响应时间优先的应用 ：尽可能设大，直到接近系统的最低响应时间限制 （根据实际情况选择）。在此种情况下，年轻代收集发生的频率也是最小的。同时，减少到达年老代的对象。</li> <li>吞吐量优先的应用 ：尽可能的设置大，可能到达Gbit的程度。因为对响应时间没有要求，垃圾收集可以并行进行，一般适合8CPU以上的应用。</li></ul></li> <li><p>年老代大小选择</p> <ul><li><p>响应时间优先的应用 ：年老代使用并发收集器，所以其大小需要小心设置，一般要考虑并发会话率 和会话持续时间 等一些参数。如果堆设置小了，可以会造成内存碎片、高回收频率以及应用暂停而使用传统的标记清除方式；如果堆大了，则需要较长的收集时间。最优化的方案，一般需要参考以下数据获得：</p> <ul><li>并发垃圾收集信息</li> <li>持久代并发收集次数</li> <li>传统GC信息</li> <li>花在年轻代和年老代回收上的时间比例</li></ul> <p>减少年轻代和年老代花费的时间，一般会提高应用的效率</p></li> <li><p>吞吐量优先的应用 ：一般吞吐量优先的应用都有一个很大的年轻代和一个较小的年老代。原因是，这样可以尽可能回收掉大部分短期对象，减少中期的对象，而年老代尽存放长期存活对象。</p></li></ul></li> <li><p>较小堆引起的碎片问题</p> <p>因为年老代的并发收集器使用标记、清除算法，所以不会对堆进行压缩。当收集器回收时，他会把相邻的空间进行合并，这样可以分配给较大的对象。但是，当堆空间较小时，运行一段时间以后，就会出现“碎片”，如果并发收集器找不到足够的空间，那么并发收集器将会停止，然后使用传统的标记、清除方式进行回收。如果出现“碎片”，可能需要进行如下配置：</p> <ul><li>-XX:+UseCMSCompactAtFullCollection ：使用并发收集器时，开启对年老代的压缩。</li> <li>-XX:CMSFullGCsBeforeCompaction=0 ：上面配置开启的情况下，这里设置多少次Full GC后，对年老代进行压缩</li></ul></li></ol> <h2 id="五、tomcat中的jvm连接数-和tomcat优化的使用如下"><a href="#五、tomcat中的jvm连接数-和tomcat优化的使用如下" class="header-anchor">#</a> 五、tomcat中的jvm连接数，和tomcat优化的使用如下：</h2> <p>1、 tomcat7安装目录\bin\catalina.bat  (linux修改的是catalina.sh文件)</p> <p>添加如下语句：</p> <div class="language- extra-class"><pre class="language-text"><code>JAVA_OPTS=-Djava.awt.headless=true -Dfile.encoding=UTF-8 -server -Xms1024m -Xmx1024m -Xss1m -XX:NewSize=256m -XX:MaxNewSize=512m -XX:PermSize=256M  -XX:MaxPermSize=512m 

-XX:+DisableExplicitGC
</code></pre></div><p>2、查看tomcat的JVM内存</p> <p>tomcat7中默认没有用户的，我们首先要添加用户有：</p> <p>修改tomcat7安装目录下\conf\tomcat-users.xml</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!--############################################################--&gt;
&lt;!--添加tomcat用户管理--&gt;
&lt;rol rolename=&quot;manager-gui&quot;/&gt;
&lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;manager-gui&quot;/&gt;
&lt;!--############################################################--&gt;
</code></pre></div><p>password是可以自由定义的。</p> <p>3、检查webapps下是否有Manager目录，一般发布时我们都把这个目录删除了，现在看来删除早了，在调试期要保留啊！</p> <p>4、访问地址：</p> <p>http://localhost:8080/manager/status</p> <p>查看内存配置情况，经测试-Xms512m -Xmx512m与-Xms1024m -Xmx1024m内存使用情况不一样，使用1024的时候有一项内存使用99%。所以看来这个设置多少与实际机器有关，需要Manager进行查看后确定。</p> <p>5、在启动Tomcat中发现，有同志发布程序时把我们在TOMCAT7中引用的外部JAR包重复发布到LIB目录下了，我们以后在发布时要检查LIB下是不是包括</p> <p>el-api.jar jsp-api servlet-api,特别注意的是最后一个servlet-api，我发现两个项目都把它拷贝到了LIB目录下！！被我删除了。</p> <p>6、使用TOMAT的连接池：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;Executor name=&quot;tomcatThreadPool&quot; namePrefix=&quot;catalina-exec-&quot; maxThreads=&quot;300&quot; minSpareThreads=&quot;50&quot; maxIdleTime=&quot;15000&quot;/&gt;
&lt;Connector port=&quot;8080

 executor=&quot;tomcatThreadPool&quot;

 protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;
 redirectPort=&quot;8443&quot;

 connectionTimeout=&quot;30000&quot; 

 enableLookups=&quot;false&quot; 

 keepAliveTimeout=&quot;15000&quot; 

 URIEncoding=&quot;UTF-8&quot;

 maxHttpHeaderSize=&quot;32768&quot;

 acceptCount=&quot;200&quot;/&gt;

 

说明：

maxThreads：最大线程数 300

minSpareThreads：初始化建立的线程数 50

maxThreads：一旦线程超过这个值，Tomcat就会关闭不再需要的线程

maxIdleTime：为最大空闲时间、单位为毫秒。
</code></pre></div><p>executor为线程池的名字，对应Executor 中的name属性；Connector 标签中不再有maxThreads的设置。</p> <p>如果tomcat不使用线程池则基本配置如下：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;Connector port=&quot;8080&quot;  

 protocol=&quot;HTTP/1.1&quot;  

 redirectPort=&quot;8443&quot;  

 connectionTimeout=&quot;30000&quot;  

 keepAliveTimeout=&quot;15000&quot;  

 enableLookups=&quot;false&quot;  

 URIEncoding=&quot;UTF-8&quot;  

 maxHttpHeaderSize=&quot;32768&quot;  

 maxThreads=&quot;300&quot;  

 acceptCount=&quot;200&quot;  

/&gt;  
</code></pre></div><p>修改Tomcat的/conf目录下面的server.xml文件，针对端口为8080的连接器添加如下参数：<img src="https://www.iteye.com/javascripts/tinymce/plugins/emotions/img/smiley-cry.gif" alt="哭"></p> <ol><li><p>connectionTimeout：连接失效时间，单位为毫秒、默认为60s、这里设置为30s，如果用户请求在30s内未能进入请求队列，视为本次连接失败。</p></li> <li><p>keepAliveTimeout：连接的存活时间，默认和connectionTimeout一致，这里可以设为15s、这意味着15s之后本次连接关闭. 如果页面需要加载大量图片、js等静态资源，需要将参数适当调大一点、以免多次创建TCP连接。</p></li> <li><p>enableLookups：是否对连接到服务器的远程机器查询其DNS主机名，一般情况下这并不必要，因此设为false即可。</p></li> <li><p>URIEncoding：设置URL参数的编码格式为UTF-8编码，默认为ISO-8859-1编码。</p></li> <li><p>maxHttpHeaderSize：设置HTTP请求、响应的头部内容大小，默认为8192字节(8k)，此处设置为32768字节(32k)、和Nginx的设置保持一致。</p></li> <li><p>maxThreads：最大线程数、用于处理用户请求的线程数目，默认为200、此处设置为300</p></li> <li><p>acceptCount：用户请求等候队列的大小，默认为100、此处设置为200</p></li></ol> <p>​    Linux系统默认一个进程能够创建的最大线程数为1024、因此对高并发应用需要进行Linux内核调优，至此文件server.xml修改后的内容如下所示：<img src="http://www.iteye.com/javascripts/tinymce/plugins/emotions/img/smiley-kiss.gif" alt="吻"></p> <p>再次登录查看状态，</p> <p>http://localhost:8080/manager/status</p> <p>用户名、密码就是上边配置的。根据cpu、内存的大小来配置。</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考：</h2> <p>http://blog.sina.com.cn/s/blog_3f12afd00100zpvf.html</p> <p>​</p> <p>tomcat7 正式环境的优化</p> <p>​     http://energykey.iteye.com/blog/2072797</p> <p>tomcat内存配置优化</p> <p>​     http://blog.csdn.net/kefeng824/article/details/31742423</p> <p>CentOS 6.5 下的tomcat优化</p> <p>​    http://www.cnblogs.com/littlehb/archive/2013/04/02/2994785.html</p> <p>JVM（Java虚拟机）优化大全和案例实战--(重点推荐)</p> <p>​    http://blog.csdn.net/kthq/article/details/8618052</p></div></div> <!----> <div class="page-edit"><!----> <!----> <!----></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/2a9b20/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">泛型的PECS原则</div></a> <a href="/pages/2f4eeb/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">是否每一个Java程序都有一个jvm</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/2a9b20/" class="prev">泛型的PECS原则</a></span> <span class="next"><a href="/pages/2f4eeb/">是否每一个Java程序都有一个jvm</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/e875ad/"><div>
            安装Rust
            <!----></div></a> <span class="date">11-08</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/96a6ab/"><div>
            读取 Springboot 的配置
            <!----></div></a> <span class="date">11-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/7bea94/"><div>
            SpringBoot 循环依赖
            <!----></div></a> <span class="date">11-08</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><!----> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> <!----></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><!----><div></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/assets/js/app.971e7be9.js" defer></script><script src="/assets/js/2.f0b7de72.js" defer></script><script src="/assets/js/49.ddb24d57.js" defer></script>
  </body>
</html>
